(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},408:function(e,t,n){e.exports=n(646)},646:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n.n(a),l=n(369),i=n(25),c=n(0),s=n.n(c),o=n(39),u=n(42),d=n.n(u),m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(415);var p=n(338),E=n(401),f=n(370),b=n(660),v=n(57),g=n(659),y=n(13),C=n(402),j=n(661),O=n(658),w=n(7),N=n(8),I=n(10),S=n(9),_=n(11),k=n(663),$=(n(14),n(657)),D=n(207),T=function(e){return s.a.createElement("div",null,s.a.createElement("h3",null,e.firstName," ",e.lastName,"'s Courses"),s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement($.a,{to:"/add_course"},s.a.createElement(D.a,{color:"blue"},"Add Course"))))},q=n(127),M=function(e){return s.a.createElement(q.a,null,s.a.createElement("div",{className:"course_row"},s.a.createElement("div",{className:"course_cell"},s.a.createElement("h5",null,s.a.createElement($.a,{to:{pathname:"/course_dashboard",state:{course_id:e.id}}},e.name))),s.a.createElement("div",{className:"course_cell"},e.time),s.a.createElement("div",{className:"course_cell"},"Tests: ",e.tests.length),s.a.createElement("div",{className:"course_cell"},"Students: ",e.students.length),s.a.createElement("div",{className:"course_cell"},e.institution.name)))},x=function(e){return s.a.createElement("div",null,s.a.createElement("h5",null,"Total Courses: ",e[0].length),s.a.createElement("div",{className:"coursecontainer"},e[0].map(function(e){return s.a.createElement(M,Object.assign({key:e.id},e))})))},Q=n(321),A=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement(Q.a,{active:!0}),s.a.createElement("div",null))))}}]),t}(c.Component),L=n(23),P=n(24),F=n.n(P);function V(){var e=Object(L.a)(["\nmutation EditPersonnel($userId: ID!,\n  \t$email:String!,\n    $firstName:String!,\n    $lastName:String!,\n    $title: String,\n    $department: String,\n    $address1:String,\n    $address2:String,\n    $city:String,\n    $state: String,\n    $zip: String,\n    $phone: String){\n  updatePersonnel(\n    userId:$userId,\n    email:$email,\n    firstName:$firstName,\n    lastName:$lastName,\n    title: $title,\n    department: $department,\n    address1:$address1,\n    address2: $address2,\n    city: $city,\n    state: $state,\n    zip: $zip,\n    phone: $phone){\n      \tid\n      }\n    }\n  "]);return V=function(){return e},e}function B(){var e=Object(L.a)(["\nquery PersonnelQuery($userId:ID!){\n  user(id:$userId){\n    id\n    firstName\n    lastName\n    email\n    phone\n    title\n    department\n    address1\n    address2\n    city\n    state\n    zip\n    role\n    teacherCourses{\n      id\n      name\n      courseNumber\n      institution{\n        id\n        name\n      }\n      deleted\n      students{\n        id\n      }\n    }\n    studentCourses{\n      id\n      name\n      courseNumber\n      deleted\n      institution{\n        id\n        name\n      }\n      students{\n        id\n      }\n    }\n  }\n}\n"]);return B=function(){return e},e}function z(){var e=Object(L.a)(["\n    mutation SignUpTeacher($email:String!,\n      $password:String!,\n      $firstName:String!,\n      $lastName:String!,\n      $title: String,\n      $address1:String,\n      $address2:String,\n      $city:String,\n      $state: String,\n      $zip: String,\n      $phone: String,\n      $role:String!,\n      $institutionId:ID!){\n    signupTeacher(email:$email,\n      password:$password,\n      firstName:$firstName,\n      lastName:$lastName,\n      title: $title,\n      address1:$address1,\n      address2: $address2,\n      city: $city,\n      state: $state,\n      zip: $zip,\n      phone: $phone,\n      role:$role,\n      institutionId:$institutionId){\n        user{\n          firstName\n          lastName\n          teacherInstitutions{\n            name\n          }\n        }\n      }\n    }\n    "]);return z=function(){return e},e}function H(){var e=Object(L.a)(["\n  mutation SignUpAdmin($email:String!,\n    $password:String!,\n    $firstName:String!,\n    $lastName:String!,\n    $title: String,\n    $address1:String,\n    $address2:String,\n    $city:String,\n    $state: String,\n    $zip: String,\n    $phone: String,\n    $role:String!,\n    $institutionId:ID!){\n  signupAdmin(email:$email,\n    password:$password,\n    firstName:$firstName,\n    lastName:$lastName,\n    title: $title,\n    address1:$address1,\n    address2: $address2,\n    city: $city,\n    state: $state,\n    zip: $zip,\n    phone: $phone,\n    role:$role,\n    institutionId:$institutionId){\n      user{\n        firstName\n        lastName\n        adminInstitutions{\n          name\n        }\n      }\n    }\n  }\n  "]);return H=function(){return e},e}function R(){var e=Object(L.a)(["\n  mutation Signup($firstName: String!,$lastName:String!,$email: String!,$password: String!,$role: String!){\n    signup(firstName:$firstName,lastName:$lastName,\n    email:$email, password:$password, role: $role){\n      authMsg\n      user{\n        firstName\n        lastName\n      }\n    }\n  }\n  "]);return R=function(){return e},e}function G(){var e=Object(L.a)(["\nmutation DeleteInstitution($institutionId:ID!){\n  deleteInstitution(id:$institutionId){\n    id\n  }\n}\n"]);return G=function(){return e},e}function Y(){var e=Object(L.a)(["\nmutation EditInstitution(\n  $id:ID!,\n  $name:String,\n  $address1:String,\n  $address2:String,\n  $city:String,\n  $state:String,\n  $zip:String,\n  $email:String,\n  $phone:String\n){\n  updateInstitution(id:$id,\n  name:$name,\n  address1:$address1,\n  address2:$address2,\n  city:$city,\n  state:$state,\n  zip:$zip,\n  email:$email,\n  phone:$phone,\n  ){\n    id\n    name\n    address1\n    address2\n    city\n    state\n    zip\n    email\n    phone\n  }\n}\n"]);return Y=function(){return e},e}function U(){var e=Object(L.a)(["\nquery InstitutionQuery($institutionId:ID!){\n  institution(id:$institutionId){\n    id\n    type\n    name\n    address1\n    address2\n    city\n    state\n    zip\n    phone\n    email\n    admins{\n      id\n      firstName\n      lastName\n      email\n      teacherCourses{\n        id\n        deleted\n      }\n    }\n    courses{\n      id\n      name\n      deleted\n      institution{\n        id\n        name\n      }\n      students{\n        id\n      }\n    }\n    students{\n      id\n      firstName\n      lastName\n      email\n      studentCourses{\n        id\n        deleted\n      }\n    }\n    teachers{\n      id\n      firstName\n      lastName\n      email\n      teacherCourses{\n        id\n        deleted\n      }\n    }\n  }\n}\n"]);return U=function(){return e},e}function J(){var e=Object(L.a)(["\n  mutation AddInstitution($name:String!,$type:String,$address1:String,$address2:String,$city:String,$state: String, $zip: String, $phone: String, $email: String){\n    addInstitution(name:$name,type:$type,address1:$address1, address2: $address2, city: $city, state: $state, zip: $zip, phone: $phone, email: $email){\n      id\n      name\n      type\n    }\n  }\n  "]);return J=function(){return e},e}function W(){var e=Object(L.a)(["\nquery InstitutionsQuery{\n  institutions{\n    count\n    institutions{\n      id\n      name\n      type\n      admins{\n        id\n        firstName\n        lastName\n      }\n      courses{\n        id\n        name\n        deleted\n      }\n      teachers{\n        id\n        firstName\n        lastName\n      }\n    }\n  }\n}\n"]);return W=function(){return e},e}function Z(){var e=Object(L.a)(["\nmutation EditPublishTest(\n  $published:Boolean\n  $startTime:String\n  $endDate: DateTime,\n  $endTime: String\n  $testId:ID!){\n    editPublishTest(\n      published:$published,\n      startTime:$startTime,\n      endTime:$endTime,\n      endDate:$endDate,\n      testId:$testId){\n        id\n      }\n    }\n    "]);return Z=function(){return e},e}function X(){var e=Object(L.a)(["\nquery TestQuery($test_id:ID!){\n  test(id:$test_id){\n      id\n      subject\n      testNumber\n      testDate\n      release\n      releaseDate\n      published\n      publishDate\n      questions{\n        challenges{\n          challenge\n          id\n          question{\n            question\n            addedBy{\n              firstName\n              lastName\n            }\n          }\n          addedBy{\n            firstName\n            lastName\n          }\n        }\n      }\n      course{\n        id\n        name\n        courseNumber\n      }\n      panels{\n        id\n    }\n    }\n  }\n"]);return X=function(){return e},e}function K(){var e=Object(L.a)(["\nmutation PublishTest(\n  $testId:ID!,\n  $startTime:String!,\n  $endTime:String!,\n  $endDate:DateTime!,\n  $panelId:ID!,\n  $question:String!,\n  $choice1:String!,\n  $choiceCorrect1:Boolean!,\n  $choice2:String!,\n  $choiceCorrect2:Boolean!,\n  $choice3:String!,\n  $choiceCorrect3:Boolean!,\n  $choice4:String!,\n  $choiceCorrect4:Boolean!){\n    publishTest(\n      testId:$testId,\n      startTime:$startTime,\n      endTime:$endTime,\n      endDate:$endDate,\n      panelId:$panelId,\n      question:$question,\n      choice1:$choice1,\n      choiceCorrect1:$choiceCorrect1,\n      choice2:$choice2,\n      choiceCorrect2:$choiceCorrect2,\n      choice3:$choice3,\n      choiceCorrect3:$choiceCorrect3,\n      choice4:$choice4,\n      choiceCorrect4:$choiceCorrect4){\n        id\n      }\n}\n"]);return K=function(){return e},e}function ee(){var e=Object(L.a)(["\n  mutation PublishTest(\n    $startHour:String!\n    $testEndDate: DateTime,\n    $endHour: String!\n    $testId:ID!){\n      publishTest(\n        startHour:$startHour,\n        endHour:$endHour,\n        testEndDate:$testEndDate,\n        testId:$testId){\n          id\n        }\n      }\n    "]);return ee=function(){return e},e}function te(){var e=Object(L.a)(["\nquery ChallengeQuery($challengeId:ID!){\n  challenge(id:$challengeId){\n    id\n    challenge\n    addedBy{\n      id\n      firstName\n      lastName\n    }\n    addedDate\n  \tanswer{\n      id\n      answer{\n        id\n        choice\n        question{\n          id\n          addedBy{\n            id\n            firstName\n            lastName\n          }\n          panel{\n            id\n            link\n          }\n          test{\n            id\n          }\n          question\n          choices{\n            id\n            choice\n            correct\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(L.a)(["\nquery TestListQuery($testId:ID!){\n  testList(testId:$testId){\n      id\n      deleted\n      subject\n      testDate\n      testNumber\n      release\n      releaseDate\n      published\n      publishDate\n      panelsCount\n      questionsCount\n      accuracy\n      answersCount\n      challengeCount\n  }\n}\n"]);return ne=function(){return e},e}function ae(){var e=Object(L.a)(["\nquery CourseDashboardQuery($courseId:ID!){\n  courseDashboard(courseId:$courseId){\n    id\n    name\n    courseNumber\n    time\n    deleted\n    studentCount\n    testCount\n    courseTestList{\n      id\n      deleted\n    }\n  }\n}\n"]);return ae=function(){return e},e}function re(){var e=Object(L.a)(["\nquery CourseDashboardQuery($courseId:ID!){\n  courseDashboard(courseId:$courseId){\n    id\n    name\n    courseNumber\n    time\n    deleted\n    studentCount\n    testCount\n    courseTestList{\n      id\n      deleted\n      subject\n      testDate\n      testNumber\n      release\n      releaseDate\n      published\n      publishDate\n      panelsCount\n      questionsCount\n      accuracy\n      answersCount\n      challengeCount\n      testType\n    }\n  }\n}\n"]);return re=function(){return e},e}function le(){var e=Object(L.a)(["\nquery CourseStudentsQuery($courseId:ID!){\n  course(id:$courseId){\n    id\n    name\n    courseNumber\n    time\n    students{\n      id\n      firstName\n      lastName\n      answers{\n        id\n        answerCorrect\n      }\n    }\n    }\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(L.a)(["\nsubscription NewChallenge($testId:ID!){\n  newChallenge(testId:$testId){\n    node{\n      id\n      challenge\n      addedDate\n      addedBy{\n        id\n        firstName\n        lastName\n      }\n      answer{\n        id\n        answer{\n          id\n          choice\n        }\n        question{\n          id\n          question\n          addedDate\n          addedBy{\n            id\n            firstName\n            lastName\n          }\n          choices{\n            id\n            choice\n          }\n        }\n      }\n      answer{\n        id\n        question{\n          id\n          panel{\n            id\n            link\n          }\n          question\n          addedDate\n          addedBy{\n            id\n            firstName\n            lastName\n          }\n        }\n      }\n    }\n  }\n}\n  "]);return ie=function(){return e},e}function ce(){var e=Object(L.a)(["\nsubscription AnswerStats($testId:ID!){\n  answerCount(testId:$testId){\n    total\n    totalCorrect\n    percentCorrect\n  }\n}\n"]);return ce=function(){return e},e}function se(){var e=Object(L.a)(["\nquery ChallengeCountQuery($testId:ID!, $userId:ID!){\n  challenges(where:{AND:[{answer:{question:{test:{id:$testId}}}},{addedBy:{id:$userId}}]},orderBy:addedDate_DESC){\n    count\n  }\n}\n"]);return se=function(){return e},e}function oe(){var e=Object(L.a)(["\nquery ChallengeCountQuery($testId:ID!){\n  challenges(where:{answer:{question:{test:{id:$testId}}}}){\n    count\n  }\n}\n"]);return oe=function(){return e},e}function ue(){var e=Object(L.a)(["\nsubscription ChallengeCountSubscription($testId:ID!){\n\tchallengeCount(testId:$testId){\n    count\n  }\n}\n"]);return ue=function(){return e},e}function de(){var e=Object(L.a)(["\nquery AnswerCountQuery($testId:ID!){\n  answers(where:{question:{test:{id:$testId}}}){\n    count\n    answers{\n      answer{\n        correct\n      }\n    }\n  }\n}\n"]);return de=function(){return e},e}function me(){var e=Object(L.a)(["\nquery QuestionCountQuery($testId:ID!){\n  questions(where:{test:{id:$testId}}){\n    count\n  }\n}\n"]);return me=function(){return e},e}function he(){var e=Object(L.a)(["\nsubscription QuestionCountSubscription($testId:ID!){\n\tquestionCount(testId:$testId){\n    count\n  }\n}\n"]);return he=function(){return e},e}function pe(){var e=Object(L.a)(["\nquery PanelCountQuery($testId:ID!){\n  panels(where:{test:{id:$testId}}){\n    count\n  }\n}\n"]);return pe=function(){return e},e}function Ee(){var e=Object(L.a)(["\nsubscription PanelCountSubscription($testId:ID!){\n\tpanelCount(testId:$testId){\n    count\n  }\n}\n"]);return Ee=function(){return e},e}function fe(){var e=Object(L.a)(["\n  mutation ReleaseQuestions(\n    $test_id: ID!\n    $releaseDate: DateTime\n  ){\n    updateTest(\n      id: $test_id,\n      release:true,\n      releaseDate: $releaseDate\n    ){\n    id\n    course {\n      id\n    }\n  }\n}\n"]);return fe=function(){return e},e}function be(){var e=Object(L.a)(["\nquery UserInstition($userid:ID!){\nuser(id:$userid){\n  teacherInstitution{\n    id\n    name\n  }\n}\n}\n"]);return be=function(){return e},e}function ve(){var e=Object(L.a)(["\nmutation AddChallengeMessage($challengeId: ID!, $challengeMessage: String!) {\n  addChallengeMessage(challengeMessage: $challengeMessage,\n  challengeId: $challengeId){\n    addedBy{\n      firstName\n    }\n    challengeMessage\n    challenge{\n      answer{\n        answer{\n          choice\n        }\n      }\n    }\n  }\n}\n"]);return ve=function(){return e},e}function ge(){var e=Object(L.a)(["\nquery ChallengeMessages($challengeId:ID!){\n   challengeMessages(where:{challenge:{id:$challengeId}}){\n    challengeMessages{\n      id\n      challengeMessage\n      addedDate\n      addedBy{\n        id\n        firstName\n        lastName\n      }\n    }\n  }\n}\n"]);return ge=function(){return e},e}function ye(){var e=Object(L.a)(["\nmutation DeletePanel($panelId:ID!){\n  deletePanel(id:$panelId){\n    id\n  }\n}\n"]);return ye=function(){return e},e}function Ce(){var e=Object(L.a)(["\nquery PanelQuery($testId:ID!){\n  testPanelStats(testId:$testId){\n      id\n      panelLink\n      total\n      totalCorrect\n    \tpercentCorrect\n      question\n    }\n  }\n"]);return Ce=function(){return e},e}function je(){var e=Object(L.a)(["\nquery TestStats($testId:ID!){\n  testStats(testId:$testId){\n    total\n    totalCorrect\n    percentCorrect\n  }\n}\n"]);return je=function(){return e},e}function Oe(){var e=Object(L.a)(["\nquery TestStats($testId:ID!, $courseId:ID!){\n  userTestStats(testId: $testId,\n  courseId: $courseId){\n    name\n    totalCorrect\n    percentCorrect\n    total\n  }\n}\n"]);return Oe=function(){return e},e}function we(){var e=Object(L.a)(["\n  query TestQuestionStats($testId:ID!){\n    testQuestionStats(testId: $testId){\n      question\n      total\n      totalCorrect\n      percentCorrect\n  }\n  }\n  "]);return we=function(){return e},e}function Ne(){var e=Object(L.a)(["\n  mutation SendLink($testId:ID!, $link:String!, $label: String){\n    addLabeledPhoto(link:$link, testId:$testId, label: $label){\n      link\n      id\n      test{\n        id\n      }\n    }\n  }\n  "]);return Ne=function(){return e},e}function Ie(){var e=Object(L.a)(["\n  mutation AddPanels( $testId: ID!, $uploadsList: String! ){\n    addPanels( uploadsList: $uploadsList, testId: $testId ){\n        link\n        id\n        test{\n          panels{\n            id\n            link\n            }\n          }\n        }\n      }\n    "]);return Ie=function(){return e},e}function Se(){var e=Object(L.a)(["\nmutation AddPanel($testId:ID!, $link:String!){\n  addPanel(link:$link, testId:$testId){\n    link\n    label\n    id\n  }\n}\n  "]);return Se=function(){return e},e}function _e(){var e=Object(L.a)(["\n  mutation {\n    logout{\n      authMsg\n      user{\n        online\n        firstName\n        lastName\n      }\n    }\n  }\n"]);return _e=function(){return e},e}function ke(){var e=Object(L.a)(["\nquery ChallengeTestQuery($testId:ID!){\n  challenges(where:{answer:{question:{test:{id:$testId}}}},orderBy:addedDate_DESC){\n    challenges{\n      id\n      challenge\n      addedDate\n      addedBy{\n        firstName\n        lastName\n      }\n      answer{\n        question{\n          question\n          addedDate\n          addedBy{\n            firstName\n            lastName\n          }\n        }\n      }\n    }\n  }\n}\n"]);return ke=function(){return e},e}function $e(){var e=Object(L.a)(["\n  mutation DeleteTest(\n    $test_id: ID!,\n  ){\n    updateTest(\n      id: $test_id,\n      deleted: true,\n    ){\n    id\n    course{\n      id\n    }\n  }\n}\n"]);return $e=function(){return e},e}function De(){var e=Object(L.a)(["\nquery TestStats($testId:ID!,$courseId:ID!){\n  userTestStats(testId:$testId,\n  courseId:$courseId){\n    name\n    totalCorrect\n    percentCorrect\n    total\n  }\n}\n"]);return De=function(){return e},e}function Te(){var e=Object(L.a)(["\nquery TestChallenges($test_id:ID!){\n  test(id:$test_id){\n    id\n      subject\n      testNumber\n      testDate\n      course{\n        id\n        name\n        courseNumber\n      }\n      panels{\n        id\n        link\n        questions{\n         question\n         questionAnswers{\n           answerCorrect\n         }\n        }\n      }\n   }\n}\n"]);return Te=function(){return e},e}function qe(){var e=Object(L.a)(["\n  mutation ConfirmEmail($email:String!, $confirmationToken:String!){\n    confirmEmail(email:$email,confirmationToken:$confirmationToken){\n      authMsg\n    }\n  }\n  "]);return qe=function(){return e},e}function Me(){var e=Object(L.a)(["\nmutation LoginMutation($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    token\n    user{\n      id\n      firstName\n      lastName\n      online\n      role\n      teacherInstitutions {\n        id\n        name\n      }\n      studentInstitutions {\n        id\n        name\n      }\n      adminInstitutions{\n        id\n        name\n      }\n    }\n  }\n}\n"]);return Me=function(){return e},e}function xe(){var e=Object(L.a)(["\nquery TestQuery($test_id:ID!){\n  test(id:$test_id){\n      id\n      subject\n      testNumber\n      testDate\n      release\n      releaseDate\n      published\n      publishDate\n      startTime\n      endTime\n      endDate\n      testType\n      questions{\n        id\n      }\n    \tcourse{\n        id\n        name\n        courseNumber\n      }\n      panels{\n        link\n        id\n    }\n    }\n  }\n"]);return xe=function(){return e},e}function Qe(){var e=Object(L.a)(["\n  query TestQuery($test_id: ID!){\n    test(id:$test_id){\n      subject\n      testDate\n      testNumber\n      id\n      course {\n        id\n        name\n        courseNumber\n      }\n  }\n}\n"]);return Qe=function(){return e},e}function Ae(){var e=Object(L.a)(["\n  mutation DeleteCourse(\n    $course_id: ID!,\n  ){\n    updateCourse(\n      id: $course_id,\n      deleted: true,\n    ){\n    name\n    id\n  }\n}\n"]);return Ae=function(){return e},e}function Le(){var e=Object(L.a)(["\nquery UserQuery($userid: ID!) {\n  user(id: $userid){\n    id\n    firstName\n    lastName\n    invitesSentTo{\n      id\n      course{\n        id\n        courseNumber\n        name\n        time\n        teachers{\n          id\n          firstName\n          lastName\n        }\n        institution{\n          id\n          name\n        }\n      }\n    }\n    studentCourses{\n      id\n      name\n      time\n      deleted\n      institution{\n        id\n        name\n      }\n      teachers{\n        id\n        firstName\n        lastName\n      }\n      tests{\n        id\n      }\n    }\n  }\n}\n"]);return Le=function(){return e},e}function Pe(){var e=Object(L.a)(["\nquery UserQuery($userid: ID!) {\n  user(id: $userid){\n    id\n    firstName\n    lastName\n    teacherCourses{\n      id\n      name\n      time\n      deleted\n      institution{\n        id\n        name\n      }\n      students{\n        id\n      }\n      tests{\n        id\n        testType\n        panels{\n          id\n        }\n      }\n    }\n  }\n}\n"]);return Pe=function(){return e},e}function Fe(){var e=Object(L.a)(["\nquery CourseQuery($courseid:ID!){\n  course(id:$courseid){\n    id\n    name\n    courseNumber\n    time\n    institution{\n      id\n      name\n    }\n    students{\n      id\n    }\n    tests{\n      id\n      subject\n      deleted\n      testNumber\n      release\n      testDate\n      course{\n        id\n        name\n        courseNumber\n      }\n      questions{\n        id\n        questionAnswers{\n          id\n          challenge{\n            id\n            challenge\n          }\n        answer{\n          id\n          choice\n          correct\n        }\n      }\n      }\n      panels{\n        id\n      }\n    }\n  }\n}\n"]);return Fe=function(){return e},e}function Ve(){var e=Object(L.a)(["\nmutation SendInvites($emails:String,$course_id:ID!){\n  sendInvite(emails:$emails,\n    courseId:$course_id){\n      authMsg\n    }\n}\n"]);return Ve=function(){return e},e}function Be(){var e=Object(L.a)(["\n  mutation UpdateTest(\n    $subject: String!,\n    $testDate: DateTime,\n    $testNumber: String,\n    $testType: String!,\n    $id:ID!\n  ){\n    updateTest(\n      subject: $subject,\n      testDate: $testDate,\n      testNumber: $testNumber,\n      testType: $testType,\n      id:$id\n    ){\n    id\n    subject\n    testNumber\n    testDate\n    testType\n  }\n}\n"]);return Be=function(){return e},e}function ze(){var e=Object(L.a)(["\n  mutation UpdateCourse(\n    $name: String!,\n    $time:String,\n    $courseNumber: String,\n    $department1: String\n    $id:ID!\n  ){\n    updateCourse(\n      name: $name,\n      time: $time,\n      courseNumber: $courseNumber,\n      department1: $department1\n      id:$id\n    ){\n    name\n    time\n    courseNumber\n    department1\n    id\n  }\n}\n"]);return ze=function(){return e},e}function He(){var e=Object(L.a)(["\nquery CourseQuery($courseid:ID!){\n  course(id:$courseid){\n    id\n    name\n    courseNumber\n    time\n    institution{\n      id\n      name\n    }\n    tests{\n      id\n      subject\n    }\n    students{\n      id\n      firstName\n      lastName\n      email\n    }\n    teachers{\n      id\n      firstName\n      lastName\n      email\n    }\n    tests{\n      id\n      subject\n      deleted\n      testNumber\n      release\n      published\n      testDate\n      questions{\n        id\n        questionAnswers{\n          id\n          answerCorrect\n        }\n      }\n      panels{\n        id\n      }\n    }\n  }\n}\n"]);return He=function(){return e},e}function Re(){var e=Object(L.a)(["\n  query COURSE($course_id:ID!){\n    course(id:$course_id){\n      name\n      courseNumber\n      time\n      department1\n      id\n    }\n  }\n  "]);return Re=function(){return e},e}function Ge(){var e=Object(L.a)(["\nmutation AddTest(\n  $subject:String!\n  $testDate: DateTime,\n  $testNumber: String,\n  $testType: String!,\n  $courseId:ID!){\n    addTest(subject:$subject,\n      testDate:$testDate,\n      testNumber:$testNumber,\n      testType: $testType,\n      courseId:$courseId){\n        id\n      }\n    }\n    "]);return Ge=function(){return e},e}function Ye(){var e=Object(L.a)(["\nquery TestChallenges($test_id:ID!){\n  test(id:$test_id){\n      id\n      subject\n      testNumber\n      testDate\n      course{\n        id\n        name\n        courseNumber\n      }\n      panels{\n        link\n        id\n      }\n      }\n    }\n"]);return Ye=function(){return e},e}function Ue(){var e=Object(L.a)(["\nquery TestChallenges($test_id:ID!){\n  tests(where:{id:$test_id}){\n    tests{\n      id\n      subject\n      testNumber\n      testDate\n      course{\n        id\n        name\n        courseNumber\n      }\n      questions{\n        id\n        question\n        addedBy{\n          firstName\n          lastName\n        }\n        challenges{\n          id\n          challenge\n          addedBy{\n            firstName\n            lastName\n          }\n        }\n      }\n    }\n  }\n}\n"]);return Ue=function(){return e},e}function Je(){var e=Object(L.a)(["\n  subscription ChallengeMsgSub($challengeId:ID!){\n    challengeMsg(challengeId:$challengeId){\n      node{\n        id\n        challengeMessage\n        addedDate\n        addedBy{\n          id\n          firstName\n          lastName\n        }\n      }\n    }\n  }\n  "]);return Je=function(){return e},e}function We(){var e=Object(L.a)(["\nsubscription NewPanelSubscription($testId:ID!){\n  newPanel(testId:$testId){\n    id\n    panelLink\n    total\n    totalCorrect\n    percentCorrect\n    question\n  }\n}\n"]);return We=function(){return e},e}function Ze(){var e=Object(L.a)(["\nquery ChallengeTestQuery($testId:ID!){\n  challenges(where:{answer:{question:{test:{id:$testId}}}},orderBy:addedDate_DESC){\n    challenges{\n      id\n      challenge\n      addedDate\n      addedBy{\n        id\n        firstName\n        lastName\n      }\n      answer{\n        id\n        answer{\n          id\n          choice\n        }\n        question{\n          id\n          question\n          addedDate\n          addedBy{\n            id\n            firstName\n            lastName\n          }\n          choices{\n            id\n            choice\n          }\n        }\n      }\n      answer{\n        id\n        question{\n          id\n          panel{\n            id\n            link\n          }\n          question\n          addedDate\n          addedBy{\n            id\n            firstName\n            lastName\n          }\n        }\n      }\n    }\n  }\n}\n"]);return Ze=function(){return e},e}function Xe(){var e=Object(L.a)(["\nquery ChallengeTestQuery($testId:ID!, $userId:ID!){\nchallenges(where:{AND:[{answer:{question:{test:{id:$testId}}}},{addedBy:{id:$userId}}]},orderBy:addedDate_DESC){\n  challenges{\n    id\n    challenge\n    addedDate\n    addedBy{\n      id\n      firstName\n      lastName\n    }\n    answer{\n      id\n      answer{\n        id\n        choice\n      }\n      question{\n        id\n        question\n        addedDate\n        addedBy{\n          id\n          firstName\n          lastName\n        }\n        test{\n          subject\n        }\n      }\n    }\n    answer{\n      id\n      question{\n        id\n        panel{\n          id\n          link\n        }\n        question\n        addedDate\n        addedBy{\n          id\n          firstName\n          lastName\n        }\n      }\n    }\n  }\n}\n}\n"]);return Xe=function(){return e},e}function Ke(){var e=Object(L.a)(["\nquery TestChallenges($test_id:ID!){\n  test(id:$test_id){\n      id\n      subject\n      testNumber\n      testDate\n      course{\n        id\n        name\n        courseNumber\n      }\n      questions{\n        id\n        challenges{\n          id\n          challenge\n          addedBy{\n            id\n            firstName\n            lastName\n          }\n          challengeMessages{\n            id\n            challengeMessage\n            addedDate\n            addedBy{\n              id\n              firstName\n              lastName\n            }\n          }\n          question{\n            id\n            question\n            choices{\n              id\n              correct\n              choice\n            }\n\t\t\t\t\t\tquestionAnswers{\n              id\n              addedBy{\n                id\n                firstName\n              }\n              answer{\n                id\n                choice\n              }\n            }\n            panel{\n              id\n              link\n            }\n            addedBy{\n              id\n              firstName\n              lastName\n            }\n          }\n\n        }\n      }\n\n    }\n}\n"]);return Ke=function(){return e},e}function et(){var e=Object(L.a)(["\nquery TestChallenges($testId:ID!){\n  test(id:$testId){\n      id\n      subject\n      testNumber\n      testDate\n      course{\n        id\n        name\n        courseNumber\n      }\n    }\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(L.a)(["\n  mutation AddCourse(\n    $name: String!,\n    $time:String,\n    $schoolId: String,\n    $institutionId: ID!,\n    $department1: String\n  ){\n    addCourse(\n      name: $name,\n      time: $time,\n      deleted: false,\n      courseNumber: $schoolId,\n      institutionId: $institutionId,\n      department1: $department1\n    ){\n    id\n    name\n    time\n    deleted\n    institution{\n      id\n      name\n    }\n    students{\n      id\n    }\n    tests{\n      id\n      panels{\n        id\n      }\n    }\n  }\n}\n"]);return tt=function(){return e},e}var nt=F()(tt()),at=F()(et()),rt=F()(Ke()),lt=F()(Xe()),it=F()(Ze()),ct=F()(We()),st=F()(Je()),ot=(F()(Ue()),F()(Ye()),F()(Ge())),ut=F()(Re()),dt=F()(He()),mt=F()(ze()),ht=F()(Be()),pt=F()(Ve()),Et=F()(Fe()),ft=F()(Pe()),bt=F()(Le()),vt=F()(Ae()),gt=(F()(Qe()),F()(xe())),yt=F()(Me()),Ct=F()(qe()),jt=F()(Te()),Ot=F()(De()),wt=F()($e()),Nt=F()(ke()),It=F()(_e()),St=F()(Se()),_t=(F()(Ie()),F()(Ne()),F()(we())),kt=F()(Oe()),$t=F()(je()),Dt=F()(Ce()),Tt=F()(ye()),qt=F()(ge()),Mt=F()(ve()),xt=(F()(be()),F()(fe())),Qt=(F()(Ee()),F()(pe())),At=(F()(he()),F()(me()),F()(de()),F()(ue()),F()(oe()),F()(se())),Lt=(F()(ce()),F()(ie())),Pt=F()(le()),Ft=F()(re()),Vt=(F()(ae()),F()(ne()),F()(te())),Bt=(F()(ee()),F()(K())),zt=F()(X()),Ht=F()(Z()),Rt=F()(W()),Gt=F()(J()),Yt=F()(U()),Ut=F()(Y()),Jt=F()(G()),Wt=F()(R()),Zt=F()(H()),Xt=F()(z()),Kt=F()(B()),en=F()(V()),tn=n(322),nn=n(149),an=function(e){return s.a.createElement("div",{className:"main"},console.log(e),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(tn.a,{negative:!0},s.a.createElement("div",null,s.a.createElement(nn.a,{name:"warning sign"})),"Error")))},rn=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=o.get("userid");return s.a.createElement(y.Query,{query:ft,variables:{userid:e}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(an,{error:n});var r=a.user,l=new Array(r.teacherCourses.filter(function(e){return!e.deleted}));return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(T,r),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(x,l))))})}}]),t}(c.Component),ln=n(662);function cn(){var e=Object(L.a)(["\n            query UserQuery($userid: ID!) {\n              user(id: $userid){\n                id\n                firstName\n                lastName\n                invitesSentTo{\n                  id\n                  course{\n                    id\n                    courseNumber\n                    name\n                    time\n                    teachers{\n                      id\n                      firstName\n                      lastName\n                    }\n                    institution{\n                      id\n                      name\n                    }\n                  }\n                }\n                studentCourses{\n                  id\n                  name\n                  time\n                  deleted\n                  institution{\n                    id\n                    name\n                  }\n                  teachers{\n                    id\n                    firstName\n                    lastName\n                  }\n                  tests{\n                    id\n                  }\n                }\n              }\n            }\n          "]);return cn=function(){return e},e}function sn(){var e=Object(L.a)(["\n  mutation JoinCourse(\n    $inviteId: ID!,\n    $courseId: ID!\n  ){\n    joinCourse(inviteId: $inviteId,\n      courseId: $courseId){\n        authMsg\n      }\n    }\n"]);return sn=function(){return e},e}var on=F()(sn()),un=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l))))._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/student_dashboard"});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(q.a,null,s.a.createElement("div",{className:"course_row"},s.a.createElement("div",{className:"course_cell"},s.a.createElement("h6",null,this.props.invite.course.name," - ",this.props.invite.course.courseNumber)),s.a.createElement("div",{className:"course_cell"},this.props.invite.course.time),s.a.createElement("div",{className:"course_cell"},this.props.invite.course.teachers.map(function(e){return e.firstName+" "+e.lastName}).join()),s.a.createElement("div",{className:"course_cell"},this.props.invite.course.institution.name),s.a.createElement("div",{className:"course_cell"},s.a.createElement(y.Mutation,{mutation:on,variables:{courseId:this.props.invite.course.id,inviteId:this.props.invite.id},onCompleted:function(t){return e._confirm(t)},refetchQueries:function(){return[{query:F()(cn()),variables:{userid:e.props.userid}}]}},function(e){return s.a.createElement(D.a,{size:"tiny",color:"blue",onClick:e},"Join")}))))}}]),t}(c.Component),dn=Object(ln.a)(un),mn=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:"coursecontainer"},e.invites.map(function(t){return s.a.createElement(dn,{key:t.id,userid:e.userid,invite:t})})))},hn=function(e){return s.a.createElement(q.a,null,s.a.createElement("div",{className:"course_row"},s.a.createElement("div",{className:"course_cell"},s.a.createElement("h5",null,s.a.createElement($.a,{to:{pathname:"/student_course_dashboard",state:{course_id:e.id}}},e.name))),s.a.createElement("div",{className:"course_cell"},e.time),s.a.createElement("div",{className:"course_cell"},e.teachers.map(function(e){return e.firstName+" "+e.lastName}).join()),s.a.createElement("div",{className:"course_cell"},"Tests: ",e.tests.length),s.a.createElement("div",{className:"course_cell"},e.institution.name)))},pn=function(e){return s.a.createElement("div",null,s.a.createElement("h5",null,"Total Courses: ",e[0].length),s.a.createElement("div",{className:"coursecontainer"},e[0].map(function(e){return s.a.createElement(hn,Object.assign({key:e.id},e))})))},En=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=sessionStorage.getItem("userid");return s.a.createElement(y.Query,{query:bt,variables:{userid:e}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(an,{error:n});var r=a.user,l=new Array(r.studentCourses.filter(function(e){return!e.deleted}));return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("h3",null,r.firstName," ",r.lastName,"'s Courses"),s.a.createElement("div",{style:{padding:"15px"}}),s.a.createElement("div",{className:"coursecontainer"},r.invitesSentTo.length>0&&s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("h4",null,"Course Inivitations")),s.a.createElement(mn,{userid:r.id,invites:r.invitesSentTo})),s.a.createElement(pn,l)))))})}}]),t}(c.Component),fn=n(226),bn=function(e){return s.a.createElement("div",{className:"dashboard"},console.log(e),s.a.createElement("div",{className:"signin"},s.a.createElement("h2",null,"Error"),s.a.createElement("h4",null,null!==e&&e.message),s.a.createElement("h4",null,null!==e.graphQLErrors||e.graphQLErrors.length>0&&e.graphQLErrors.map(function(e){return e.message})),s.a.createElement("h4",null,null!==e.networkError||e.networkError.length>0&&e.networkError.message)))},vn=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement(y.Query,{query:Yt,variables:{institutionId:this.props.institutionId},fetchPolicy:"cache-and-network"},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(Q.a,null);if(n)return s.a.createElement(bn,n);var r=a.institution,l=r.id,i=r.name,c=r.students;return s.a.createElement("div",null,s.a.createElement("div",{style:{padding:15}},s.a.createElement($.a,{to:{pathname:"/institution_dashboard",state:{institutionId:l}}},s.a.createElement("h2",null,i))),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/edit_institution",state:{institutionId:l}}},s.a.createElement(D.a,{color:"blue"},"Edit Institution"))),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/add_admin",state:{institutionId:l}}},s.a.createElement(D.a,{color:"blue"},"Add Administrator"))),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/add_teacher",state:{institutionId:l}}},s.a.createElement(D.a,{color:"blue"},"Add Teacher"))),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/institution_students",state:{institutionId:l}}},s.a.createElement(D.a,{color:"blue"},c.length," Students"))))})}}]),t}(c.Component),gn=n(27),yn=n.n(gn),Cn=n(253),jn=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.admins,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.column,a=t.data,r=t.direction;return s.a.createElement(q.a,{style:{minHeight:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("firstName")},"First Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("lastName")},"Last Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"email"===n?r:null,onClick:this.handleSort("email")},"Courses"))),s.a.createElement(Cn.a.Body,null,yn.a.map(a,function(t){var n=t.id,a=t.firstName,r=t.lastName,l=t.teacherCourses;return s.a.createElement(Cn.a.Row,{key:n},s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},a)),s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},r)),s.a.createElement(Cn.a.Cell,null,l.filter(function(e){return!e.deleted}).length))}))))}}]),t}(c.Component),On=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.teachers,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.column,a=t.data,r=t.direction;return s.a.createElement(q.a,{style:{minHeight:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("firstName")},"First Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("lastName")},"Last Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"email"===n?r:null,onClick:this.handleSort("email")},"Courses"))),s.a.createElement(Cn.a.Body,null,yn.a.map(a,function(t){var n=t.id,a=t.firstName,r=t.lastName,l=t.teacherCourses;return s.a.createElement(Cn.a.Row,{key:n},s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},a)),s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},r)),s.a.createElement(Cn.a.Cell,null,l.filter(function(e){return!e.deleted}).length))}))))}}]),t}(c.Component),wn=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.courses,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.column,a=t.data,r=t.direction;return s.a.createElement(q.a,{style:{height:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("name")},"Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"students"===n?r:null,onClick:this.handleSort("students")},"Students"))),s.a.createElement(Cn.a.Body,null,yn.a.map(a,function(t){var n=t.id,a=t.name,r=t.students;return s.a.createElement(Cn.a.Row,{key:n},s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/institution_course",state:{institutionId:e.props.institutionId,courseId:n}}},a)),s.a.createElement(Cn.a.Cell,null,r.length))}))))}}]),t}(c.Component),Nn=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("user")),n=t.firstName,a=t.lastName,r=t.adminInstitutions[0].id,l=this.state,i=l.graphQLError,c=l.networkError,o=l.isVisibleNet,u=l.isVisibleGraph;return s.a.createElement("div",{className:"main"},s.a.createElement("div",null,s.a.createElement("h5",null,n," ",a," ")),s.a.createElement(vn,{institutionId:r}),s.a.createElement(y.Query,{query:Yt,variables:{institutionId:r},fetchPolicy:"cache-and-network"},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,a);var l=r.institution,d=l.id,m=l.address1,h=l.address2,p=l.city,E=l.state,f=l.zip,b=l.phone,v=l.email,g=l.courses,C=l.teachers,j=l.admins,O=g.filter(function(e){return!e.deleted});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{margin:25}},s.a.createElement(fn.a,{columns:3,stackable:!0,className:"fill-content"},s.a.createElement(fn.a.Row,{stretched:!0},s.a.createElement(fn.a.Column,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Administrators"))),s.a.createElement(jn,{institutionId:d,admins:j})),s.a.createElement(fn.a.Column,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Teachers"))),s.a.createElement(On,{institutionId:d,teachers:C})),s.a.createElement(fn.a.Column,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Courses"))),s.a.createElement(wn,{institutionId:d,courses:O})))),s.a.createElement(q.a,null,s.a.createElement("p",null,s.a.createElement("b",null,"Address:")," ",m," ",h," ",p,", ",E," ",f),s.a.createElement("p",null,s.a.createElement("b",null,"Phone:")," ",b," ",s.a.createElement("b",null,"Email:")," ",s.a.createElement("a",{href:"mailto:"+v},v)))),s.a.createElement(y.Mutation,{mutation:Jt,variables:{institutionId:d},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},refetchQueries:function(){return[{query:Rt}]}},function(e){return s.a.createElement("div",null,s.a.createElement(D.a,{color:"red",onClick:e},"Delete Institution"))}),u&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,i))),o&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,c))))}))}}]),t}(c.Component),In=function(e){return s.a.createElement(q.a,null,s.a.createElement("div",{className:"course_row"},s.a.createElement("div",{className:"course_cell"},s.a.createElement("h5",null,s.a.createElement($.a,{to:{pathname:"/institution_dashboard",state:{institutionId:e.id}}},e.name))),s.a.createElement("div",{className:"course_cell"},"Courses: ",s.a.createElement($.a,{to:{pathname:"/institution_courses",state:{institutionId:e.id}}},e.courses.filter(function(e){return!e.deleted}).length)),s.a.createElement("div",{className:"course_cell"},"Admins: ",s.a.createElement($.a,{to:{pathname:"/institution_admins",state:{institutionId:e.id}}},e.admins.length)),s.a.createElement("div",{className:"course_cell"},"Teachers: ",s.a.createElement($.a,{to:{pathname:"/institution_teachers",state:{institutionId:e.id}}},e.teachers.length))))},Sn=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:"coursecontainer"},e.courses.map(function(e){return s.a.createElement(In,Object.assign({key:e.id},e))})))},_n=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=JSON.parse(sessionStorage.getItem("user")),t=e.firstName,n=e.lastName;return s.a.createElement(y.Query,{query:Rt,fetchPolicy:"cache-and-network"},function(e){var a=e.loading,r=e.error,l=e.data;if(a)return s.a.createElement(A,null);if(r)return s.a.createElement(an,{error:r});var i=l.institutions,c=i.count,o=i.institutions.filter(function(e){return!e.deleted});return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("h5",null,t," ",n),s.a.createElement("h3",null,"Quandrio Institutions - ",o.length),s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement($.a,{to:"/add_institution"},s.a.createElement(D.a,{color:"blue"},"Add Institution")))),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(Sn,{count:c,courses:o}))))})}}]),t}(c.Component),kn=n(254),$n=n(324),Dn=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1,pushToken:"",isVisible:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.login.token,l=t.login.user,n._saveUserData(a,l),"TEACHER"===l.role&&n.props.history.push("/teacher_dashboard"),"STUDENT"===l.role&&n.props.history.push("/student_dashboard"),"ADMIN"===l.role&&n.props.history.push("/admin_dashboard"),"QUANDRIA"===l.role&&n.props.history.push("/quandria_dashboard");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._saveUserData=function(e,t){sessionStorage.setItem("auth_token",e),sessionStorage.setItem("user",JSON.stringify(t)),sessionStorage.setItem("userid",t.id),sessionStorage.setItem("online",t.online),"ADMIN"===t.role&&sessionStorage.setItem("institutionId",t.adminInstitutions[0].id),o.set("auth_token",e),o.set("user",JSON.stringify(t)),o.set("userid",t.id),o.set("online",t.online),"ADMIN"===t.role&&o.set("institutionId",t.adminInstitutions[0].id)},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password,r=t.graphQLError,l=t.networkError,i=t.isVisibleNet,c=t.isVisibleGraph;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement("h2",null,"Sign In"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{control:$n.a,label:"Email",value:n,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Login email"}),s.a.createElement(kn.a.Field,{control:$n.a,label:"Password",value:a,type:"password",onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Login password"}),s.a.createElement(y.Mutation,{mutation:yt,variables:{email:n,password:a},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")})),c&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,r))),i&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,l))))))}}]),t}(c.Component),Tn={padding:"20px"},qn=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement("div",{style:Tn},s.a.createElement("h2",null,this.props.location.state.authMsg)),s.a.createElement("div",{style:Tn},s.a.createElement("h4",null,"Sign in again:")),s.a.createElement("div",{style:Tn},s.a.createElement("h4",null,s.a.createElement($.a,{to:"/sign_in"},s.a.createElement(D.a,{color:"blue"},"Sign In")))))))}}]),t}(c.Component),Mn=Object(ln.a)(qn),xn=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",lastName:""},n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.signup.authMsg,n.props.history.push({pathname:"/signed_up",state:{authMsg:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password,r=t.firstName,l=t.lastName;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement("h2",null,"Sign Up"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{control:$n.a,label:"First Name",value:r,onChange:function(t){return e.setState({firstName:t.target.value})},placeholder:"First Name"}),s.a.createElement(kn.a.Field,{control:$n.a,label:"Last Name",value:l,onChange:function(t){return e.setState({lastName:t.target.value})},placeholder:"Last Name"}),s.a.createElement(kn.a.Field,{control:$n.a,label:"Email",value:n,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Login email"}),s.a.createElement(kn.a.Field,{control:$n.a,label:"Password",value:a,type:"password",onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Login password"}),s.a.createElement(y.Mutation,{mutation:Wt,variables:{email:n,password:a,firstName:r,lastName:l,role:"STUDENT"},onCompleted:function(t){return e._confirm(t)}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")})))))}}]),t}(c.Component),Qn={padding:"20px"},An=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement("div",{style:Qn},s.a.createElement("h2",null,this.props.location.state.authMsg)),s.a.createElement("div",{style:Qn}),s.a.createElement("div",{style:Qn})))}}]),t}(c.Component),Ln=Object(ln.a)(An),Pn=n(86),Fn=n(131),Vn=n.n(Fn),Bn={padding:"20px"},zn=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={authMsg:""},n.confirmEmail=function(e,t){var a=Object(Pn.a)(Object(Pn.a)(n));Vn()({url:"https://qbe1.herokuapp.com/",method:"post",data:{query:Ct,variables:{email:e,confirmationToken:t}}}).then(function(e){var t=e.request.response,n=JSON.parse(t).data.confirmEmail.authMsg;a.setState({authMsg:n})}).catch(function(e){return n.setState({authMsg:"There has been an error with your confirmation. Please try again."})})},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.email,n=e.token;this.confirmEmail(t,n)}},{key:"render",value:function(){return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement("div",{style:Bn},s.a.createElement("h3",null,"Email Confirmation")),s.a.createElement("div",{style:Bn},s.a.createElement("h4",null,this.state.authMsg)),s.a.createElement("div",{style:Bn},s.a.createElement("h4",null,s.a.createElement($.a,{to:"/sign_in"},s.a.createElement(D.a,{color:"blue"},"Sign In")))))))}}]),t}(c.Component),Hn=Object(ln.a)(zn),Rn=function(e){return s.a.createElement("div",null,s.a.createElement($.a,{to:{pathname:"/course_dashboard",state:{course_id:e.id}}},s.a.createElement("h2",null,e.name," - ",e.courseNumber)),s.a.createElement("h5",null,"Time: ",e.time),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/edit_course",state:{course_id:e.id}}},s.a.createElement(D.a,{color:"blue"},"Edit Course"))),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/add_test",state:{course_id:e.id}}},s.a.createElement(D.a,{color:"blue"},"Add Test"))),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/course_students",state:{course_id:e.id}}},s.a.createElement(D.a,{color:"blue"},e.studentsCount," Students"))),s.a.createElement("div",{style:{display:"inline-block",padding:5}},s.a.createElement($.a,{to:{pathname:"/course_invitation",state:{course_id:e.id}}},s.a.createElement(D.a,{color:"blue"},"Send Student Invites"))))},Gn=n(128),Yn=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h6",null,"Panels: ",s.a.createElement($.a,{to:{pathname:"/test_panels",state:{test_id:this.props.testId}}},this.props.count)))}}]),t}(c.Component),Un=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.courseId,n=e.count,a=e.testId;return s.a.createElement("div",null,s.a.createElement("h6",null,"Questions: ",s.a.createElement($.a,{to:{pathname:"/student_performance",state:{course_id:t,test_id:a}}},n)))}}]),t}(c.Component),Jn=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.answersCount,n=e.accuracy;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("h6",null,"Answers: ",t)),s.a.createElement("div",null,s.a.createElement("h6",null,"Accuracy: ",Math.round(100*n),"%")))}}]),t}(c.Component),Wn=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h6",null,"Challenges: ",s.a.createElement($.a,{to:{pathname:"/challenge_dashboard",state:{test_id:this.props.testId}}},this.props.count)))}}]),t}(c.Component),Zn=n(351),Xn=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.test,t=e.id,n=e.testNumber,a=e.subject,r=e.testType,l=e.testDate,i=e.published,c=e.release,o=e.questionsCount,u=e.panelsCount,d=e.answersCount,m=e.accuracy,h=e.challengeCount;return s.a.createElement(Gn.a,{fluid:!0},s.a.createElement(Gn.a.Content,null,s.a.createElement("div",{className:"course_row"},s.a.createElement("div",null,s.a.createElement($.a,{to:{pathname:"/test_dashboard",state:{test_id:t}}},s.a.createElement("h5",null,n," - ",a," - ",Zn(l,"dddd, mmmm dS, yyyy")))),s.a.createElement("div",null,c&&s.a.createElement(D.a,{basic:!0,disabled:!0,color:"teal",size:"small"},"Released"),i&&s.a.createElement(D.a,{basic:!0,disabled:!0,color:"green",size:"small"},"Published"),"CLASS"===r&&s.a.createElement(D.a,{basic:!0,disabled:!0,color:"purple",size:"small"},"Lecture"),"LAB"===r&&s.a.createElement(D.a,{basic:!0,disabled:!0,color:"orange",size:"small"},"Lab"))),s.a.createElement("hr",null),s.a.createElement("div",{className:"course_row"},s.a.createElement(Un,{count:o,testId:t,courseId:this.props.courseId}),s.a.createElement(Jn,{answersCount:d,accuracy:m}),s.a.createElement(Wn,{count:h,testId:t}),s.a.createElement(Yn,{count:u,testId:t}))))}}]),t}(c.Component),Kn=function(e){return s.a.createElement("div",{className:"coursecontainer"},e.tests.map(function(t){return s.a.createElement(Xn,{key:t.id,courseId:e.courseId,test:t})}))},ea=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push("/teacher_dashboard");case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=o.get("userid"),n=this.props.location.state.course_id,a=this.state,r=a.graphQLError,l=a.networkError,i=a.isVisibleNet,c=a.isVisibleGraph;return s.a.createElement(y.Query,{query:Ft,variables:{courseId:n},fetchPolicy:"cache-and-network"},function(a){var o=a.loading,u=a.error,d=a.data;if(o)return s.a.createElement(A,null);if(u)return s.a.createElement(an,u);var m=d.courseDashboard,h=m.courseTestList.filter(function(e){return!e.deleted});return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(Rn,m),s.a.createElement(Kn,{tests:h,courseId:n}),s.a.createElement("div",null,s.a.createElement(y.Mutation,{mutation:vt,variables:{course_id:n},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},refetchQueries:function(){return[{query:ft,variables:{userid:t}}]}},function(e){return s.a.createElement(D.a,{color:"red",onClick:e},"Delete Course")}),c&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,r))),i&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,l))))))})}}]),t}(c.Component),ta=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement($.a,{to:{pathname:"/student_course_dashboard",state:{course_id:e.id}}},s.a.createElement("div",{style:{padding:10}},s.a.createElement("h2",null,e.name," - ",e.courseNumber))),s.a.createElement("div",{style:{padding:10}},s.a.createElement("h5",null,"Time: ",e.time)))},na=n(351),aa=function(e){return s.a.createElement(Gn.a,{fluid:!0},s.a.createElement(Gn.a.Content,null,s.a.createElement(fn.a,{padded:!0,textAlign:"left",columns:4},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:5},s.a.createElement($.a,{to:{pathname:"/student_test_dashboard",state:{test_id:e.test.id}}},s.a.createElement("h5",null,e.test.testNumber," - ",e.test.subject," "))),s.a.createElement(fn.a.Column,{width:5},s.a.createElement("h5",null,na(e.test.testDate,"dddd, mmmm dS, yyyy"))),s.a.createElement(fn.a.Column,{width:3},s.a.createElement("h5",null,"Questions: ",e.test.questions.length)),s.a.createElement(fn.a.Column,{width:3},s.a.createElement("h5",null,"Panels: ",s.a.createElement($.a,{to:{pathname:"/student_test_panels",state:{test_id:e.test.id}}}," ",e.test.panels.length," ")))))))},ra=function(e){return s.a.createElement("div",{className:"coursecontainer"},e.tests.map(function(t){return s.a.createElement(aa,{key:t.id,courseId:e.courseId,test:t})}))},la=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l))))._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push("/teacher_dashboard");case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.course_id;return s.a.createElement(y.Query,{query:dt,variables:{courseid:e},fetchPolicy:"cache-and-network"},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,a);var l=r.course,i=l.tests.filter(function(e){return!e.deleted&&e.published});return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(ta,l),s.a.createElement(ra,{tests:i,courseId:e}),s.a.createElement("div",null)))})}}]),t}(c.Component),ia=n(326),ca=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={emails:"",graphQLError:"",isVisibleGraph:!1,networkError:"",isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/course_dashboard",state:{course_id:n.props.location.state.course_id}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.course_id,n=this.state,a=n.graphQLError,r=n.networkError,l=n.isVisibleNet,i=n.isVisibleGraph;return s.a.createElement(y.Query,{query:Et,variables:{courseid:t}},function(n){var c=n.loading,o=n.error,u=n.data;if(c)return s.a.createElement(A,null);if(o)return s.a.createElement(an,o);var d=u.course;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(Rn,d),s.a.createElement("div",{style:{width:"75%",margin:"auto"}},s.a.createElement("div",null,s.a.createElement("h4",null,"Send Student Invitations")),s.a.createElement(kn.a,null,s.a.createElement(kn.a.Field,{control:ia.a,style:{minHeight:200},label:"Emails",value:e.state.emails,placeholder:"Email list...",onChange:function(t){return e.setState({emails:t.target.value})}})),s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement(y.Mutation,{mutation:pt,variables:{course_id:t,emails:e.state.emails},onError:function(t){return e._error(t)},onCompleted:function(t){return e._confirm(t)}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Send Invitations")}),i&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,a))),l&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,r)))))))})}}]),t}(c.Component),sa=n(325),oa=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={institutionId:"",department1:"",name:"",schoolId:"",time:"",course_message:"",institutions:"",graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.addCourse.id,n.props.history.push({pathname:"/course_dashboard",state:{course_id:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("user")),n=o.get("userid"),a=this.state,r=a.name,l=a.schoolId,i=a.time,c=a.department1,u=a.institutionId,d=a.graphQLError,m=a.networkError,h=a.isVisibleNet,p=a.isVisibleGraph,E=t.teacherInstitutions.map(function(e){return{value:e.id,text:e.name}});return s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement("h2",null,"Add Course"),s.a.createElement("h6",{style:{color:"green",height:10,padding:5}},this.state.course_message),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{id:"name",control:$n.a,label:"Course Name",value:r,onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Course Name"}),s.a.createElement(kn.a.Field,{id:"schoolId",control:$n.a,label:"Course Number",value:l,onChange:function(t){return e.setState({schoolId:t.target.value})},placeholder:"Course Number eg. BUS 101"}),s.a.createElement(kn.a.Field,{id:"time",control:$n.a,label:"Time",value:i,onChange:function(t){return e.setState({time:t.target.value})},placeholder:"Time eg. MWF 12:00-1:20"}),s.a.createElement(kn.a.Field,{id:"department1",control:$n.a,label:"Department",value:c,onChange:function(t){return e.setState({department1:t.target.value})},placeholder:"eg. Biology"}),s.a.createElement(kn.a.Field,{id:"institutionId",control:sa.a,options:E,onChange:function(t,n){var a=n.value;e.setState({institutionId:a})},label:"Institution",fluid:!0,selection:!0,placeholder:"Select Institution"})),p&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,d))),h&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,m))),s.a.createElement(y.Mutation,{mutation:nt,variables:{name:r,schoolId:l,time:i,department1:c,institutionId:u},onError:function(t){return e._error(t)},onCompleted:function(t){return e._confirm(t)},refetchQueries:function(){return[{query:ft,variables:{userid:n}}]}},function(e){return s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement(D.a,{color:"blue",onClick:e},"Submit"))}),p&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,d))),h&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,m)))))}}]),t}(c.Component),ua=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={department1:n.props.department1,name:n.props.name,courseNumber:n.props.courseNumber,time:n.props.time,graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/course_dashboard",state:{course_id:n.props.id}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.courseNumber,r=t.time,l=t.department1,i=t.graphQLError,c=t.networkError,o=t.isVisibleNet,u=t.isVisibleGraph;return s.a.createElement("div",null,s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{id:"name",control:$n.a,label:"Course Name",value:n,onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Course Name"}),s.a.createElement(kn.a.Field,{id:"schoolId",control:$n.a,label:"Course Number",value:a,onChange:function(t){return e.setState({courseNumber:t.target.value})},placeholder:"Course Number eg. BUS 101"}),s.a.createElement(kn.a.Field,{id:"time",control:$n.a,label:"Time",value:r,onChange:function(t){return e.setState({time:t.target.value})},placeholder:"Time eg. MWF 12:00-1:20"}),s.a.createElement(kn.a.Field,{id:"department1",control:$n.a,label:"Department",value:l,onChange:function(t){return e.setState({department1:t.target.value})},placeholder:"eg. Biology"})),s.a.createElement("div",{style:{padding:"50px"}},s.a.createElement(y.Mutation,{mutation:mt,variables:{name:n,courseNumber:a,time:r,department1:l,id:this.props.id},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},optimisticResponse:{__typename:"Mutation",updateCourse:{id:this.props.id,__typename:"Course",name:n,courseNumber:a,time:r,department1:l}}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")}),u&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,i))),o&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,c)))))}}]),t}(c.Component),da=Object(ln.a)(ua),ma=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.course_id;return s.a.createElement("div",null,s.a.createElement("div",{style:{padding:"10px"}},s.a.createElement(y.Query,{query:ut,variables:{course_id:e}},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return s.a.createElement(Q.a,null);if(a)return s.a.createElement(bn,a);var l=r.course;return s.a.createElement($.a,{to:{pathname:"/course_dashboard",state:{course_id:e}}},s.a.createElement("h2",null,l.name," - ",l.courseNumber))})))}}]),t}(c.Component),ha=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l))))._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.updateCourse.id,n.props.history.push({pathname:"/course_dashboard",state:{course_id:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.course_id;return s.a.createElement("div",{className:"dashboard"},s.a.createElement("div",{className:"signin"},s.a.createElement(ma,{course_id:e}),s.a.createElement("h2",null,"Edit Course"),s.a.createElement(y.Query,{query:dt,variables:{courseid:e}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(an,n);var r=a.course;return s.a.createElement(da,r)})))}}]),t}(c.Component),pa=n(60),Ea=n(31),fa=n.n(Ea),ba=function(e){return s.a.createElement($.a,{to:{pathname:"/add_panels",state:{test_id:e.testId}}},s.a.createElement(D.a,{color:"blue"},"Add/Delete Panels"))},va=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement($.a,{to:{pathname:"/test_panels",state:{test_id:this.props.testId}}},s.a.createElement(D.a,{color:"blue"},this.props.count," Panels"))}}]),t}(c.Component),ga=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l))))._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.updateTest.id,n.props.history.push({pathname:"/test_dashboard",state:{test_id:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=new Date;return s.a.createElement(y.Query,{query:gt,variables:{test_id:this.props.testId},fetchPolicy:"cache-and-network"},function(n){var a=n.loading,r=n.error,l=n.data;if(a)return s.a.createElement(Q.a,null);if(r)return s.a.createElement(bn,r);var i=l.test,c=i.id,o=i.testNumber,u=i.subject,d=i.testDate,m=i.release,h=i.published,p=i.course,E=i.panels,f=i.questions;return s.a.createElement("div",null,s.a.createElement("h2",null,s.a.createElement($.a,{to:{pathname:"/course_dashboard",state:{course_id:p.id}}},p.name," - ",p.courseNumber)),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement("h3",null,s.a.createElement($.a,{to:{pathname:"/test_dashboard",state:{test_id:c}}},o," - ",u," - ",fa()(d).format("dddd MMMM Do YYYY")))),s.a.createElement("div",{style:{display:"inline-block",padding:15}},s.a.createElement($.a,{to:{pathname:"/edit_test",state:{test_id:c}}},s.a.createElement(D.a,{color:"blue"},"Edit")),s.a.createElement(ba,{testId:c}),s.a.createElement(va,{count:E.length,testId:c}),s.a.createElement($.a,{to:{pathname:"/student_performance",state:{test_id:c,course_id:p.id}}},s.a.createElement(D.a,{color:"blue"},f.length," Questions")),h?s.a.createElement($.a,{to:{pathname:"/edit_publish_test",state:{test_id:c}}},s.a.createElement(D.a,{color:"blue"},"Edit Published Test")):s.a.createElement($.a,{to:{pathname:"/publish_test",state:{test_id:c}}},s.a.createElement(D.a,{color:"blue"},"Publish Test")),m?s.a.createElement("div",null):s.a.createElement(y.Mutation,{mutation:xt,variables:{test_id:c,releaseDate:t},onCompleted:function(t){return e._confirm(t)},refetchQueries:function(){return[{query:gt,variables:{test_id:c}}]}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Release Questions")})))})}}]),t}(c.Component),ya=Object(ln.a)(ga),Ca=function(e){return s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.Cell,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("b",null,"Challenge: "),e.challenge),s.a.createElement("div",{style:{fontSize:"12px"}},"By ",e.addedBy.firstName," ",e.addedBy.lastName),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement("b",null,"Question: "),e.answer.question.question),s.a.createElement("div",{style:{fontSize:"12px"}},"By ",e.answer.question.addedBy.firstName," ",e.answer.question.addedBy.lastName),s.a.createElement("hr",null),s.a.createElement("div",{style:{fontSize:"12px",color:"#C0C0C0"}},fa()(e.addedDate).format("dddd, MMMM Do YYYY, h:mm a")))))},ja=function(e){return s.a.createElement("div",null,Object.values(e).map(function(e){return s.a.createElement(Ca,Object.assign({key:e.id},e))}))},Oa=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(q.a,{style:{height:400,overflow:"auto"},textAlign:"left",attached:!0},s.a.createElement(Cn.a,{celled:!0},s.a.createElement(Cn.a.Body,null,s.a.createElement(ja,this.props.challenges)))))}}]),t}(c.Component);function wa(){var e=Object(L.a)(["\nquery TestStats($testId:ID!){\n  testStats(testId:$testId){\n    totalCorrect\n    total\n\n  }\n}\n"]);return wa=function(){return e},e}var Na=F()(wa()),Ia=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.stats,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state,t=e.column,n=e.data,a=e.direction;return s.a.createElement(q.a,{style:{minHeight:400},attached:!0},s.a.createElement(y.Query,{query:Na,variables:{testId:this.props.testId}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement("div",null,"Loading");if(n)return s.a.createElement("div",null,"Error");var r=a.testStats;return s.a.createElement("div",null,s.a.createElement("b",null,"Percent Correct:")," ",r.totalCorrect/r.total>0?Math.round(r.totalCorrect/r.total*100):0,"%  ",s.a.createElement("b",null,"Correct:")," ",r.totalCorrect," ",s.a.createElement("b",null,"Total:")," ",r.total)}),s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0,striped:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===t?a:null,onClick:this.handleSort("name")},"Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"total"===t?a:null,onClick:this.handleSort("total")},"Answered"),s.a.createElement(Cn.a.HeaderCell,{sorted:"totalCorrect"===t?a:null,onClick:this.handleSort("totalCorrect")},"Correct"),s.a.createElement(Cn.a.HeaderCell,{sorted:"percentCorrect"===t?a:null,onClick:this.handleSort("percentCorrect")},"Percent Correct"))),s.a.createElement(Cn.a.Body,null,yn.a.map(n,function(e){var t=e.id,n=e.name,a=e.total,r=e.totalCorrect,l=e.percentCorrect;return s.a.createElement(Cn.a.Row,{key:t},s.a.createElement(Cn.a.Cell,null,n),s.a.createElement(Cn.a.Cell,null,a),s.a.createElement(Cn.a.Cell,null,r),s.a.createElement(Cn.a.Cell,null,Math.round(100*l),"%"))}))))}}]),t}(c.Component),Sa=n(262),_a=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/course_dashboard",state:{course_id:t.updateTest.course.id}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.test_id,n=sessionStorage.getItem("userid"),a=this.state,r=a.graphQLError,l=a.networkError,i=a.isVisibleNet,c=a.isVisibleGraph;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(ya,{testId:t}),s.a.createElement(y.Query,{query:gt,variables:{test_id:t},fetchPolicy:"cache-and-network"},function(e){var n=e.loading,a=e.error,r=e.data;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,a);var l=r.test,i=l.published,c=l.publishDate,o=l.release,u=l.testType,d=l.releaseDate,m=l.endDate,h=l.startTime,p=l.endTime;return s.a.createElement(fn.a,{stackable:!0,className:"fill-content"},s.a.createElement(fn.a.Row,{stretched:!0},s.a.createElement(fn.a.Column,{width:16},s.a.createElement("div",null,s.a.createElement(q.a,null,s.a.createElement(fn.a,null,s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:4},"LAB"===u?s.a.createElement(D.a,{basic:!0,disabled:!0,color:"orange",size:"small"},"Lab Test"):s.a.createElement(D.a,{basic:!0,disabled:!0,color:"purple",size:"small"},"Lecture Test")),s.a.createElement(fn.a.Column,{width:8},i&&s.a.createElement(D.a,{disabled:!0,size:"small",color:"green",basic:!0},s.a.createElement("b",null,"Published: ")," ",fa()(c).format("MMMM Do YYYY")," ",s.a.createElement("b",null,"End: ")," ",fa()(m).format("MMMM Do YYYY")," ",s.a.createElement("b",null,"Hours: ")," ",h," - ",p)),s.a.createElement(fn.a.Column,{width:4},o&&s.a.createElement(D.a,{disabled:!0,size:"small",color:"teal",basic:!0},s.a.createElement("b",null,"Questions Released: ")," ",fa()(d).format("MMMM Do YYYY"))))))))),s.a.createElement(fn.a.Row,{stretched:!0},s.a.createElement(fn.a.Column,{width:8},s.a.createElement(y.Query,{query:Nt,variables:{testId:t,courseId:l.course.id}},function(e){var n=e.loading,a=e.error,r=e.data,i=e.subscribeToMore;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,{error:a});var c=r.challenges.challenges;return s.a.createElement(s.a.Fragment,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},c.length>0?s.a.createElement($.a,{to:{pathname:"/challenge_dashboard",state:{course_id:l.course.id,test_id:t}}},c.length," Challenges"):s.a.createElement("div",null,"0 Challenges")),s.a.createElement(Oa,{testToRender:l,challenges:c,subscribeToNewChallenges:function(){return i({document:Lt,variables:{testId:t},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newChallenge;return{challenges:{challenges:Object(pa.a)(e.challenges.challenges).concat([a]),__typename:e.challenges.__typename}}}})}}))})),s.a.createElement(fn.a.Column,{width:8},s.a.createElement("div",null,s.a.createElement(y.Query,{query:Ot,variables:{testId:t,courseId:l.course.id}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(Q.a,null);if(n)return s.a.createElement(an,{error:n});var r=[];return a.userTestStats.forEach(function(e){var t={id:Sa(),name:e.name,total:e.total,totalCorrect:e.totalCorrect,percentCorrect:e.percentCorrect};r.push(t)}),s.a.createElement(s.a.Fragment,null,s.a.createElement(q.a,{secondary:!0,attached:"top"},s.a.createElement($.a,{to:{pathname:"/student_performance",state:{course_id:l.course.id,test_id:l.id}}},"Questions")),s.a.createElement(Ia,{testId:l.id,stats:r}))})))))}),s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement(y.Mutation,{mutation:wt,variables:{test_id:t},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},refetchQueries:function(){return[{query:ft,variables:{userid:n}}]}},function(e){return s.a.createElement(D.a,{color:"red",onClick:e},"Delete Test")}),c&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,r))),i&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,l))))))}}]),t}(c.Component),ka=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.subject,n=e.testNumber,a=e.course,r=e.testDate,l=e.id;return s.a.createElement("div",{style:{padding:"20px"}},s.a.createElement("h2",null,s.a.createElement($.a,{to:{pathname:"/student_course_dashboard",state:{course_id:a.id}}},a.name," - ",a.courseNumber)),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement("h3",null,s.a.createElement($.a,{to:{pathname:"/student_test_dashboard",state:{test_id:l}}},n," - ",t," - ",fa()(r).format("dddd MMMM Do YYYY")))))}}]),t}(c.Component),$a=Object(ln.a)(ka),Da=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement(y.Query,{query:$t,variables:{testId:this.props.test_id}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(Q.a,null);if(n)return s.a.createElement(bn,{error:n});var r=a.testStats;return s.a.createElement(q.a,null,s.a.createElement(fn.a,{columns:3},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,null,s.a.createElement("h5",null,s.a.createElement("b",null,"Answers:")," ",r.total)),s.a.createElement(fn.a.Column,null,s.a.createElement("h5",null,s.a.createElement("b",null,"Correct:")," ",r.totalCorrect,"  ")),s.a.createElement(fn.a.Column,null,s.a.createElement("h5",null,s.a.createElement("b",null,"Percent Correct:")," ",r.totalCorrect/r.total>0?Math.round(r.totalCorrect/r.total*100):0,"% ")))))})}}]),t}(c.Component),Ta=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.stats,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state,t=e.column,n=e.data,a=e.direction;return s.a.createElement(q.a,{style:{minHeight:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0,striped:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{width:8,sorted:"question"===t?a:null,onClick:this.handleSort("question")},"Question"),s.a.createElement(Cn.a.HeaderCell,{sorted:"total"===t?a:null,onClick:this.handleSort("total")},"Answered"),s.a.createElement(Cn.a.HeaderCell,{sorted:"totalCorrect"===t?a:null,onClick:this.handleSort("totalCorrect")},"Correct"),s.a.createElement(Cn.a.HeaderCell,{sorted:"percentCorrect"===t?a:null,onClick:this.handleSort("percentCorrect")},"Percent"))),s.a.createElement(Cn.a.Body,null,yn.a.map(n,function(e){var t=e.id,n=e.question,a=e.total,r=e.totalCorrect,l=e.percentCorrect;return s.a.createElement(Cn.a.Row,{key:t},s.a.createElement(Cn.a.Cell,null,n),s.a.createElement(Cn.a.Cell,null,a),s.a.createElement(Cn.a.Cell,null,r),s.a.createElement(Cn.a.Cell,null,Math.round(100*l),"%"))}))))}}]),t}(c.Component),qa=n(262),Ma=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement(y.Query,{query:_t,variables:{testId:this.props.test_id}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(Q.a,null);if(n)return s.a.createElement(bn,{error:n});var r=[];return a.testQuestionStats.forEach(function(e){var t={id:qa(),question:e.question,total:e.total,totalCorrect:e.totalCorrect,percentCorrect:e.percentCorrect};r.push(t)}),s.a.createElement(Ta,{stats:r})})}}]),t}(c.Component),xa=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.test_id,t=o.get("userid");return s.a.createElement(y.Query,{query:gt,variables:{test_id:e}},function(n){var a=n.loading,r=n.error,l=n.data;if(a)return s.a.createElement(A,null);if(r)return s.a.createElement(an,{error:r});var i=l.test;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement($a,i),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement($.a,{to:{pathname:"/student_test_panels",state:{test_id:e}}},s.a.createElement(D.a,{color:"blue"},i.panels.length," Panels")),s.a.createElement(y.Query,{query:At,variables:{testId:e,userId:t}},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,{error:a});var l=r.challenges.count;return s.a.createElement(s.a.Fragment,null,l>0&&s.a.createElement($.a,{to:{pathname:"/challenge_student_dashboard",state:{test_id:e}}},s.a.createElement(D.a,{color:"blue"},l,"  Challenges")))}),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(Da,{test_id:e}),s.a.createElement(Ma,{test_id:e})))))})}}]),t}(c.Component),Qa=n(223),Aa=function(e){return s.a.createElement(Gn.a,null,s.a.createElement(Qa.a,{src:e.panelLink}),s.a.createElement(Gn.a.Content,null,e.question.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Gn.a.Description,null,s.a.createElement("b",null,"Label:")," ",e.question),s.a.createElement("hr",null)),s.a.createElement(Gn.a.Description,null,s.a.createElement("b",null,"Answers:")," ",e.total," ",s.a.createElement("b",null,"Correct:")," ",e.totalCorrect," (",Math.round(100*e.percentCorrect),"%)")))},La=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.subscribeToNewPanels()}},{key:"render",value:function(){return s.a.createElement(Gn.a.Group,{centered:!0},this.props.panelStats.map(function(e){return s.a.createElement(Aa,Object.assign({key:e.id},e))}))}}]),t}(c.Component),Pa=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.id;return s.a.createElement(y.Query,{query:Dt,variables:{testId:e},fetchPolicy:"network-only"},function(t){var n=t.loading,a=t.error,r=t.data,l=t.subscribeToMore;if(n)return s.a.createElement(Q.a,null);if(a)return s.a.createElement(bn,a);var i=r.testPanelStats;return s.a.createElement(La,{panelStats:i,subscribeToNewPanels:function(){return l({document:ct,variables:{testId:e},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newPanel;return{testPanelStats:Object(pa.a)(e.testPanelStats).concat([a])}}})}})})}}]),t}(c.Component),Fa=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.test_id;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(ya,{testId:e}),s.a.createElement("hr",null),s.a.createElement(y.Query,{query:jt,variables:{test_id:e}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(bn,n);var r=a.test;return s.a.createElement(Pa,r)})))}}]),t}(c.Component),Va=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.test_id;return s.a.createElement(y.Query,{query:jt,variables:{test_id:e}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(bn,n);var r=a.test;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"coursecontainer"},s.a.createElement($a,r),s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(Pa,r))))))})}}]),t}(c.Component),Ba=n(68),za=n(85),Ha=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={testNumber:"",subject:"",testDate:"",testType:"",graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n.handleChange=function(e,t){var a=t.name,r=t.value;n.state.hasOwnProperty(a)&&n.setState(Object(Ba.a)({},a,r))},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.addTest.id,n.props.history.push({pathname:"/test_dashboard",state:{test_id:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.course_id,n=this.state,a=n.testNumber,r=n.subject,l=n.testDate,i=n.testType,c=n.graphQLError,o=n.networkError,u=n.isVisibleNet,d=n.isVisibleGraph,m=fa()(l).format();return s.a.createElement("div",{className:"main"},s.a.createElement("div",{style:{marginLeft:"20%",marginRight:"20%"}},s.a.createElement("div",null,s.a.createElement(ma,{course_id:t}),s.a.createElement("h2",null,"Add Test"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{control:$n.a,label:"Subject",value:r,onChange:function(t){return e.setState({subject:t.target.value})},placeholder:"Subject"}),s.a.createElement(kn.a.Group,{widths:"equal"},s.a.createElement(za.DateTimeInput,{autoComplete:"off",width:8,label:"Test Date",dateFormat:"MM-DD-YYYY",timeFormat:"AMPM",name:"testDate",placeholder:"Date Time",value:this.state.testDate,iconPosition:"left",onChange:this.handleChange}),s.a.createElement(kn.a.Field,{width:4,id:"institutionId",control:sa.a,options:[{value:"Test 1",text:"Test 1"},{value:"Test 2",text:"Test 2"},{value:"Test 3",text:"Test 3"},{value:"Test 4",text:"Test 4"},{value:"Test 5",text:"Test 5"},{value:"Test 6",text:"Test 6"}],onChange:function(t,n){var a=n.value;e.setState({testNumber:a})},label:"Test Number",fluid:!0,selection:!0,placeholder:"Select"}),s.a.createElement(kn.a.Field,{width:4,id:"type",control:sa.a,options:[{value:"CLASS",text:"CLASS"},{value:"LAB",text:"LAB"}],onChange:function(t,n){var a=n.value;e.setState({testType:a})},label:"Test Type",fluid:!0,selection:!0,placeholder:"Select"})),s.a.createElement(y.Mutation,{mutation:ot,variables:{subject:r,testDate:m,testNumber:a,published:!1,release:!1,courseId:t,testType:i},onCompleted:function(t){return e._confirm(t)}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")}),d&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,c))),u&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,o)))))))}}]),t}(c.Component),Ra=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={subject:n.props.subject,testDate:fa()(n.props.testDate).format(),testNumber:n.props.testNumber,testType:n.props.testType,graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n.handleChange=function(e,t){var a=t.name,r=t.value;n.state.hasOwnProperty(a)&&n.setState(Object(Ba.a)({},a,r))},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/test_dashboard",state:{test_id:n.props.id}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.subject,a=t.testDate,r=t.testNumber,l=t.testType,i=t.graphQLError,c=t.networkError,o=t.isVisibleNet,u=t.isVisibleGraph,d=fa()(a).format();return s.a.createElement("div",null,s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{control:$n.a,label:"Subject",value:n,onChange:function(t){return e.setState({subject:t.target.value})},placeholder:"Subject"}),s.a.createElement(kn.a.Group,{widths:"equal"},s.a.createElement(za.DateTimeInput,{label:"Test Date",dateFormat:"MM-DD-YYYY",timeFormat:"AMPM",name:"testDate",placeholder:"Date Time",value:this.state.testDate,iconPosition:"left",onChange:this.handleChange}),s.a.createElement(kn.a.Field,{id:"institutionId",control:sa.a,options:[{value:"Test 1",text:"Test 1"},{value:"Test 2",text:"Test 2"},{value:"Test 3",text:"Test 3"},{value:"Test 4",text:"Test 4"},{value:"Test 5",text:"Test 5"},{value:"Test 6",text:"Test 6"}],value:this.state.testNumber,onChange:function(t,n){var a=n.value;e.setState({testNumber:a})},label:"Test Number",fluid:!0,selection:!0,placeholder:"Select Test Number"}),s.a.createElement(kn.a.Field,{width:4,id:"type",control:sa.a,options:[{value:"CLASS",text:"CLASS"},{value:"LAB",text:"LAB"}],value:this.state.testType,onChange:function(t,n){var a=n.value;e.setState({testType:a})},label:"Test Type",fluid:!0,selection:!0,placeholder:"Select"}))),s.a.createElement(y.Mutation,{mutation:ht,variables:{subject:n,testNumber:r,testDate:d,testType:l,id:this.props.id},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},optimisticResponse:{__typename:"Mutation",updateTest:{id:this.props.id,__typename:"Test",subject:n,testNumber:r,testDate:d,testType:l}}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")}),u&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,i))),o&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,c))))}}]),t}(c.Component),Ga=Object(ln.a)(Ra),Ya=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(ya,{testId:this.props.location.state.test_id}),s.a.createElement(y.Query,{query:gt,variables:{test_id:this.props.location.state.test_id}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(an,n);var r=a.test;return s.a.createElement("div",null,s.a.createElement("div",{style:{padding:"20px"}},s.a.createElement("h2",null,"Edit Test")),s.a.createElement("div",{style:{paddingRight:"14em",paddingLeft:"14em"}},s.a.createElement(Ga,r)))})))}}]),t}(c.Component),Ua=n(255),Ja=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={endDate:"",endTime:"",startTime:"",graphQLError:"",question:"",choice1:"",choiceCorrect1:!1,choice2:"",choiceCorrect2:!1,choice3:"",choiceCorrect3:!1,choice4:"",choiceCorrect4:!1,graphQLErrorL:!1,isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n.handleChange=function(e,t){var a=t.name,r=t.value;n.state.hasOwnProperty(a)&&n.setState(Object(Ba.a)({},a,r))},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.publishTest.id,n.props.history.push({pathname:"/test_dashboard",state:{test_id:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.test_id,n=this.state,a=n.endDate,r=n.endTime,l=n.startTime,i=n.question,c=n.choice1,o=n.choiceCorrect1,u=n.choice2,d=n.choiceCorrect2,m=n.choice3,h=n.choiceCorrect3,p=n.choice4,E=n.choiceCorrect4,f=n.graphQLError,b=n.networkError,v=n.isVisibleNet,g=n.isVisibleGraph,C=[{value:"6",text:"6 AM"},{value:"7",text:"7 AM"},{value:"8",text:"8 AM"},{value:"9",text:"9 AM"},{value:"10",text:"10 AM"},{value:"11",text:"11 AM"},{value:"12",text:"12 PM"},{value:"13",text:"1 PM"},{value:"14",text:"2 PM"},{value:"15",text:"3 PM"},{value:"16",text:"4 PM"},{value:"17",text:"5 PM"},{value:"18",text:"6 PM"},{value:"19",text:"7 PM"},{value:"20",text:"8 PM"},{value:"21",text:"9 PM"},{value:"22",text:"10 PM"},{value:"23",text:"11 PM"}];return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(y.Query,{query:gt,variables:{test_id:t}},function(n){var j=n.loading,O=n.error,w=n.data;if(j)return s.a.createElement(A,null);if(O)return s.a.createElement(an,null);var N=w.test,I=N.panels[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{padding:"20px"}},s.a.createElement(ya,N)),s.a.createElement("div",{style:{paddingRight:"150px",paddingLeft:"150px"}},s.a.createElement("h2",null,"Publish Test"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(za.DateTimeInput,{label:"Test End Date",dateFormat:"MM-DD-YYYY",timeFormat:"AMPM",name:"endDate",placeholder:"Test End Date",value:e.state.endDate,iconPosition:"left",onChange:e.handleChange}),s.a.createElement(kn.a.Group,{widths:"equal"},s.a.createElement(kn.a.Field,{id:"startTime:",control:sa.a,options:C,onChange:function(t,n){var a=n.value;e.setState({startTime:a})},label:"Start Time",fluid:!0,selection:!0,placeholder:"Select Start Time"}),s.a.createElement(kn.a.Field,{id:"endTime",control:sa.a,options:C,onChange:function(t,n){var a=n.value;e.setState({endTime:a})},label:"Stop Time",fluid:!0,selection:!0,placeholder:"Select Stop Time"})),s.a.createElement("h4",null,"First Question"),s.a.createElement(Qa.a,{src:I.link}),s.a.createElement(kn.a.Field,{id:"question",control:$n.a,label:"Question",value:i,onChange:function(t){return e.setState({question:t.target.value})},placeholder:"Question..."}),s.a.createElement("div",{style:{margin:15}},s.a.createElement(fn.a,{columns:2},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:14},s.a.createElement(kn.a.Field,{id:"choice1",control:$n.a,label:"",value:c,onChange:function(t){return e.setState({choice1:t.target.value})},placeholder:"Choice 1"})),s.a.createElement(fn.a.Column,{width:2},s.a.createElement(q.a,null,s.a.createElement(Ua.a,{fitted:!0,checked:e.state.choiceCorrect1,onChange:function(){return e.setState({choiceCorrect1:!0,choiceCorrect2:!1,choiceCorrect3:!1,choiceCorrect4:!1})}})))),s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:14},s.a.createElement(kn.a.Field,{id:"choice2",control:$n.a,label:"",value:u,onChange:function(t){return e.setState({choice2:t.target.value})},placeholder:"Choice 2"})),s.a.createElement(fn.a.Column,{width:2},s.a.createElement(q.a,null,s.a.createElement(Ua.a,{fitted:!0,checked:e.state.choiceCorrect2,onChange:function(){return e.setState({choiceCorrect1:!1,choiceCorrect2:!0,choiceCorrect3:!1,choiceCorrect4:!1})}})))),s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:14},s.a.createElement(kn.a.Field,{id:"choice3",control:$n.a,label:"",value:m,onChange:function(t){return e.setState({choice3:t.target.value})},placeholder:"Choice 3"})),s.a.createElement(fn.a.Column,{width:2},s.a.createElement(q.a,null,s.a.createElement(Ua.a,{fitted:!0,checked:e.state.choiceCorrect3,onChange:function(){return e.setState({choiceCorrect1:!1,choiceCorrect2:!1,choiceCorrect3:!0,choiceCorrect4:!1})}})))),s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:14},s.a.createElement(kn.a.Field,{id:"choice4",control:$n.a,label:"",value:p,onChange:function(t){return e.setState({choice4:t.target.value})},placeholder:"Choice 4"})),s.a.createElement(fn.a.Column,{width:2},s.a.createElement(q.a,null,s.a.createElement(Ua.a,{fitted:!0,checked:e.state.choiceCorrect4,onChange:function(){return e.setState({choiceCorrect1:!1,choiceCorrect2:!1,choiceCorrect3:!1,choiceCorrect4:!0})}})))))),s.a.createElement("div",{style:{padding:10}},s.a.createElement(y.Mutation,{mutation:Bt,variables:{startTime:l,endTime:r,endDate:fa()(a).format(),testId:t,panelId:I.id,question:i,choice1:c,choice2:u,choice3:m,choice4:p,choiceCorrect1:o,choiceCorrect2:d,choiceCorrect3:h,choiceCorrect4:E},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},refetchQueries:function(){return[{query:zt,variables:{test_id:t}}]}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")})),g&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,f))),v&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,b))))))})))}}]),t}(c.Component),Wa=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={test_id:n.props.id,published:n.props.published,startTime:n.props.startTime,endDate:fa()(n.props.endDate).format(),endTime:n.props.endTime,graphQLErrorL:!1,isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n.handleChange=function(e,t){var a=t.name,r=t.value;n.state.hasOwnProperty(a)&&n.setState(Object(Ba.a)({},a,r))},n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.editPublishTest.id,n.props.history.push({pathname:"/test_dashboard",state:{test_id:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.test_id,a=t.published,r=t.startTime,l=t.endTime,i=t.endDate,c=t.graphQLError,o=t.networkError,u=t.isVisibleNet,d=t.isVisibleGraph,m=[{value:"6",text:"6 AM"},{value:"7",text:"7 AM"},{value:"8",text:"8 AM"},{value:"9",text:"9 AM"},{value:"10",text:"10 AM"},{value:"11",text:"11 AM"},{value:"12",text:"12 PM"},{value:"13",text:"1 PM"},{value:"14",text:"2 PM"},{value:"15",text:"3 PM"},{value:"16",text:"4 PM"},{value:"17",text:"5 PM"},{value:"18",text:"6 PM"},{value:"19",text:"7 PM"},{value:"20",text:"8 PM"},{value:"21",text:"9 PM"},{value:"22",text:"10 PM"},{value:"23",text:"11 PM"}];return s.a.createElement("div",null,s.a.createElement("h2",null,"Edit Published Test"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(za.DateTimeInput,{label:"Test End Date",dateFormat:"MM-DD-YYYY",timeFormat:"AMPM",name:"endDate",placeholder:"Test End Date",value:this.state.endDate,iconPosition:"left",onChange:this.handleChange}),s.a.createElement(kn.a.Group,{widths:"equal"},s.a.createElement(kn.a.Field,{id:"startTime",control:sa.a,options:m,value:this.state.startTime,onChange:function(t,n){var a=n.value;e.setState({startTime:a})},label:"Start Time",fluid:!0,selection:!0,placeholder:"Select Start Time"}),s.a.createElement(kn.a.Field,{id:"stopTime",control:sa.a,options:m,value:this.state.endTime,onChange:function(t,n){var a=n.value;e.setState({endTime:a})},label:"Stop Time",fluid:!0,selection:!0,placeholder:"Select Stop Time"})),s.a.createElement(y.Mutation,{mutation:Ht,variables:{startTime:r,endTime:l,endDate:i,published:a,testId:n},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},refetchQueries:function(){return[{query:zt,variables:{test_id:n}}]}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")}),d&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,c))),u&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,o)))))}}]),t}(c.Component),Za=Object(ln.a)(Wa),Xa=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.test_id;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{style:{padding:"20px"}},s.a.createElement(ya,{testId:e})),s.a.createElement(y.Query,{query:gt,variables:{test_id:e}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(an,null);var r=a.test;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{paddingRight:"14em",paddingLeft:"14em"}},s.a.createElement(Za,r)))})))}}]),t}(c.Component),Ka=n(4),er=n.n(Ka),tr=n(641),nr=n(336),ar=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={progress:0,loaded:0,percent:0,fileUrls:n.props.panels,uploadError:!1,deleteError:!1},n.deletePanel=function(e){Vn()({url:"https://qbe1.herokuapp.com/",method:"post",headers:{authorization:n.props.token?"Bearer ".concat(n.props.token):""},data:{query:Tt,variables:{panelId:e}}}).then(function(e){return Vn()({url:"https://qbe1.herokuapp.com/",method:"post",headers:{authorization:n.props.token?"Bearer ".concat(n.props.token):""},data:{query:Dt,variables:{testId:n.props.testId}}})}).catch(function(e){e.response?n.setState({deleteError:!0}):e.request?(n.setState({deleteError:!0}),console.log(e.request)):(console.log("Error",e.message),n.setState({deleteError:!0})),console.log(e.config),n.setState({deleteError:!0})})},n.onDrop=function(){var e=Object(i.a)(r.a.mark(function e(t,a){var l,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=t.length,i=0,t.map(function(e){var t=new FormData;t.append("file",e),t.append("tags","browser_upload"),t.append("upload_preset","tx7xnbvf");var a=Object(Pn.a)(Object(Pn.a)(n));return Vn.a.post("https://api.cloudinary.com/v1_1/dkucuwpta/upload",t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var t=e.data.secure_url,r=n.props.testId;return Vn()({url:"https://qbe1.herokuapp.com/",method:"post",headers:{authorization:n.props.token?"Bearer ".concat(n.props.token):""},data:{query:St,variables:{testId:r,link:t}}}).then(function(e){var t=(i+=1)/l*100;a.setState({percent:t})}).catch(function(e){e.response?n.setState({uploadError:!0}):e.request?(n.setState({uploadError:!0}),console.log(e.request)):(n.setState({uploadError:!0}),console.log("Error",e.message)),n.setState({uploadError:!0}),console.log(e.config)})}),e});case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state,t=e.uploadError,n=e.deleteError;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("div",{style:{width:"500px",paddingBottom:"25px"}},s.a.createElement($.a,{to:{pathname:"/test_panels",state:{test_id:this.props.testId}}},s.a.createElement("h4",null,"Panel Performance Statistics")),t&&s.a.createElement("div",null,"There has been an error uploading. Please try again."),n&&s.a.createElement("div",null,"There has been an error deleting. Please try again."),s.a.createElement(tr.a,{token:this.props.token,onDrop:this.onDrop},function(e){var t=e.getRootProps,n=e.getInputProps,a=e.isDragActive;return s.a.createElement("div",Object.assign({},t(),{className:er()("dropzone",{"dropzone--isActive":a})}),s.a.createElement("input",n()),a?s.a.createElement(q.a,{placeholder:!0,size:"big"},s.a.createElement(nn.a,{name:"images outline"}),s.a.createElement("br",null),"Drop or Choose Files"):s.a.createElement(q.a,{placeholder:!0},s.a.createElement(nn.a,{name:"images outline",size:"big"}),s.a.createElement("br",null),"Drop or Choose Files"))})))),s.a.createElement(nr.a,{percent:this.state.percent,color:"teal"}))}}]),t}(c.Component),rr=n(335),lr=n(316),ir=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleShow=function(){return n.setState({active:!0})},n.handleHide=function(){return n.setState({active:!1})},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state.active,n=s.a.createElement("div",null,s.a.createElement(rr.a,{as:"h2",inverted:!0},"Title"),s.a.createElement(y.Mutation,{mutation:Tt,variables:{panelId:this.props.id},onError:function(t){return e._error(t)},refetchQueries:function(){return[{query:Dt,variables:{testId:e.props.test_id}},{query:Qt,variables:{testId:e.props.test_id}}]}},function(e){return s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement(D.a,{color:"red",onClick:e},"Delete"))}));return s.a.createElement("div",{style:{padding:"5px"}},s.a.createElement(lr.a.Dimmable,{as:Qa.a,dimmed:t,dimmer:{active:t,content:n},onMouseEnter:this.handleShow,onMouseLeave:this.handleHide,size:"medium",src:this.props.panelLink}))}}]),t}(c.Component),cr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.subscribeToNewPanels()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Gn.a.Group,{centered:!0},Object.values(this.props.panelStats).map(function(t){return s.a.createElement(ir,Object.assign({test_id:e.props.testId,key:t.panelLink},t))})))}}]),t}(c.Component),sr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.testId;return s.a.createElement(y.Query,{query:Dt,variables:{testId:e},fetchPolicy:"network-only"},function(t){var n=t.loading,a=t.error,r=t.data,l=t.subscribeToMore;if(n)return s.a.createElement(Q.a,null);if(a)return s.a.createElement(bn,{error:a});var i=r.testPanelStats;return s.a.createElement(cr,{panelStats:i,testId:e,subscribeToNewPanels:function(){return l({document:ct,variables:{testId:e},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newPanel;return{testPanelStats:Object(pa.a)(e.testPanelStats).concat([a])}}})}})})}}]),t}(c.Component),or=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.test_id,t=sessionStorage.getItem("auth_token");return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(ya,{testId:e}),s.a.createElement("hr",null),s.a.createElement(ar,{token:t,testId:e}),s.a.createElement(sr,{testId:e})))}}]),t}(c.Component),ur=n(50),dr=function(){return s.a.createElement("div",{className:"main"},s.a.createElement("main",{role:"main"},s.a.createElement("div",{className:"container_upper"},s.a.createElement("h1",{className:"display-3"},"Welcome to Quandrio"),s.a.createElement("p",null,"For study groups and quiz each other with your class materials")),s.a.createElement("div",{className:"container_lower"},s.a.createElement(ur.f,null,s.a.createElement(ur.e,null,s.a.createElement(ur.b,{body:!0},s.a.createElement(ur.d,null,"For Students"),s.a.createElement(ur.c,null,"With supporting text below as a natural lead-in to additional content."),s.a.createElement(ur.a,{color:"primary"},"Go somewhere"))),s.a.createElement(ur.e,null,s.a.createElement(ur.b,{body:!0},s.a.createElement(ur.d,null,"For Teachers"),s.a.createElement(ur.c,null,"With supporting text below as a natural lead-in to additional content."),s.a.createElement(ur.a,{color:"primary"},"Go somewhere"))),s.a.createElement(ur.e,null,s.a.createElement(ur.b,{body:!0},s.a.createElement(ur.d,null,"For Schools"),s.a.createElement(ur.c,null,"With supporting text below as a natural lead-in to additional content."),s.a.createElement(ur.a,{color:"primary"},"Go somewhere")))))))},mr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.stats,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state,t=e.column,n=e.data,a=e.direction;return s.a.createElement(q.a,{style:{minHeight:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0,striped:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===t?a:null,onClick:this.handleSort("name")},"Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"total"===t?a:null,onClick:this.handleSort("total")},"Answered"),s.a.createElement(Cn.a.HeaderCell,{sorted:"totalCorrect"===t?a:null,onClick:this.handleSort("totalCorrect")},"Correct"),s.a.createElement(Cn.a.HeaderCell,{sorted:"percentCorrect"===t?a:null,onClick:this.handleSort("percentCorrect")},"Percent Correct"))),s.a.createElement(Cn.a.Body,null,yn.a.map(n,function(e){var t=e.id,n=e.name,a=e.total,r=e.totalCorrect,l=e.percentCorrect;return s.a.createElement(Cn.a.Row,{key:t},s.a.createElement(Cn.a.Cell,null,n),s.a.createElement(Cn.a.Cell,null,a),s.a.createElement(Cn.a.Cell,null,r),s.a.createElement(Cn.a.Cell,null,Math.round(100*l),"%"))}))))}}]),t}(c.Component),hr=n(262),pr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.test_id,n=e.course_id;return s.a.createElement(y.Query,{query:kt,variables:{testId:t,courseId:n}},function(e){var n=e.loading,a=e.error,r=e.data;if(n)return s.a.createElement(Q.a,null);if(a)return s.a.createElement(bn,{error:a});var l=[];return r.userTestStats.forEach(function(e){var t={id:hr(),name:e.name,total:e.total,totalCorrect:e.totalCorrect,percentCorrect:e.percentCorrect};l.push(t)}),s.a.createElement(mr,{testId:t,stats:l})})}}]),t}(c.Component),Er=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={courseId:""},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state,t=e.test_id,n=e.course_id;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(ya,{testId:t}),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(fn.a,{stackable:!0,className:"fill-content"},s.a.createElement(fn.a.Row,{stretched:!0},s.a.createElement(fn.a.Column,{width:16},s.a.createElement(Da,{test_id:t}))),s.a.createElement(fn.a.Row,{stretched:!0},s.a.createElement(fn.a.Column,{width:8},s.a.createElement(pr,{test_id:t,course_id:n})),s.a.createElement(fn.a.Column,{width:8},s.a.createElement(Ma,{test_id:t})))))))}}]),t}(c.Component),fr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={courseId:""},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.test_id;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(y.Query,{query:gt,variables:{test_id:e}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(an,{error:n});var r=a.test;return s.a.createElement($a,r)}),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(Da,{test_id:e}),s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(Ma,{test_id:e})))))}}]),t}(c.Component),br=n(337),vr=n(31),gr=function(e){return s.a.createElement(br.a,null,s.a.createElement(br.a.Content,null,s.a.createElement(br.a.Author,{as:"a"},e.addedBy.firstName," ",e.addedBy.lastName),s.a.createElement(br.a.Metadata,null,s.a.createElement("div",null,vr(e.addedDate).calendar())),s.a.createElement(br.a.Text,null,s.a.createElement("div",null,e.challengeMessage))))},yr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).messagesEnd=s.a.createRef(),n.scrollToBottom=function(){n.messagesEnd.current.scrollIntoView({behavior:"smooth"})},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.subscribeToNewChallengeMessage()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return s.a.createElement(br.a.Group,{size:"small",style:{overflow:"auto",height:375,textAlign:"left",paddingLeft:"20px"}},this.props.challengeMessages.map(function(e){return s.a.createElement(gr,Object.assign({key:e.id},e))}))}}]),t}(c.Component),Cr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={challengeMessage:""},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.changeChallenge(this.props.initialChallengeId)}},{key:"render",value:function(){var e=this,t=this.state.challengeMessage,n=this.props.challengeId;return s.a.createElement(y.Query,{query:Vt,variables:{challengeId:n}},function(a){var r=a.loading,l=a.error,i=a.data;if(r)return s.a.createElement(Q.a,null);if(l)return s.a.createElement(bn,l);var c=i.challenge;return s.a.createElement(fn.a,{columns:2},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,null,s.a.createElement("div",{style:{textAlign:"left",padding:"20px"}},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement("div",null,s.a.createElement("b",null,"Challenge:")," ",c.challenge),s.a.createElement("div",null,s.a.createElement("b",null,"By:")," ",c.addedBy.firstName," ",c.addedBy.lastName),s.a.createElement("div",null,s.a.createElement("b",null,"Answer Given:"),c.answer.answer.choice," "),s.a.createElement("div",{style:{padding:"10px"}},s.a.createElement("div",null,s.a.createElement("b",null,"Question:")," ",c.answer.answer.question.question),s.a.createElement("div",null,s.a.createElement("ul",null,c.answer.answer.question.choices.map(function(e){return s.a.createElement("li",{key:e.choice},e.choice," ",e.correct&&s.a.createElement(nn.a,{size:"large",name:"check square outline",color:"teal"})," ")}))),s.a.createElement("div",null,s.a.createElement("b",null,"By:"),c.answer.answer.question.addedBy.firstName," ",c.answer.answer.question.addedBy.lastName)),s.a.createElement("div",null,c.answer.answer.question.panel.link&&s.a.createElement(Qa.a,{src:c.answer.answer.question.panel.link}))))),s.a.createElement(fn.a.Column,{centered:"true"},s.a.createElement(q.a,{style:{minHeight:450,overflow:"auto"},attached:!0},s.a.createElement(y.Query,{query:qt,variables:{challengeId:n}},function(e){var t=e.loading,a=e.error,r=e.data,l=e.subscribeToMore;if(t)return s.a.createElement(Q.a,null);if(a)return s.a.createElement("div",null,"Error... ");var i=r.challengeMessages;return s.a.createElement(yr,Object.assign({},i,{subscribeToNewChallengeMessage:function(){return l({document:st,variables:{challengeId:n},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.challengeMsg.node;return Object.assign({},e,{challengeMessages:{challengeMessages:Object(pa.a)(e.challengeMessages.challengeMessages).concat([a]),__typename:e.challengeMessages.__typename}})}})}}))})),s.a.createElement(kn.a,{onSubmit:function(){return e.setState({challengeMessage:""})}},s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement(kn.a.Group,null,s.a.createElement(y.Mutation,{mutation:Mt,variables:{challengeId:c.id,challengeMessage:t},refetchQueries:function(){return[{query:rt,variables:{testId:c.answer.answer.question.test.id}}]}},function(t){return s.a.createElement($n.a,{action:s.a.createElement(D.a,{size:"tiny",color:"teal",onClick:t},"Submit"),size:"tiny",placeholder:"comment...",name:"challengeMessage",value:e.state.challengeMessage,onChange:function(t){return e.setState({challengeMessage:t.target.value})}})})))))))})}}]),t}(c.Component),jr=Object(ln.a)(Cr),Or=function(e){return s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.Cell,null,s.a.createElement("div",{onClick:function(){return e.changeChallenge(e.id)}},s.a.createElement("div",null,s.a.createElement("b",null,"Challenge: "),e.challenge),s.a.createElement("div",{style:{fontSize:"12px"}},"By ",e.addedBy.firstName," ",e.addedBy.lastName),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement("b",null,"Question: "),e.answer.question.question),s.a.createElement("div",{style:{fontSize:"12px"}},"By ",e.answer.question.addedBy.firstName," ",e.answer.question.addedBy.lastName),s.a.createElement("hr",null),s.a.createElement("div",{style:{fontSize:"12px",color:"#C0C0C0"}},fa()(e.addedDate).format("dddd, MMMM Do YYYY, h:mm a")))))},wr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.subscribeToNewChallenges()}},{key:"render",value:function(){var e=this,t=this.props.challenges;return s.a.createElement(s.a.Fragment,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},t.length," Challenges"),s.a.createElement(q.a,{style:{maxHeight:500,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{celled:!0,selectable:!0},s.a.createElement(Cn.a.Body,null,t.map(function(t){return s.a.createElement(Or,Object.assign({key:t.id,changeChallenge:e.props.changeChallenge},t,{test_id:e.props.test_id}))})))))}}]),t}(c.Component),Nr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={challengeId:"",test_id:n.props.location.state.test_id},n.changeChallenge=function(e){return n.setState({challengeId:e})},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.challengeId,a=t.test_id;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(ya,{testId:a}),s.a.createElement(y.Query,{query:it,variables:{testId:a}},function(t){var r=t.loading,l=t.error,i=t.data,c=t.subscribeToMore;if(r)return s.a.createElement(A,null);if(l)return s.a.createElement(an,l);var o=i.challenges.challenges,u=o[0].id;return s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(fn.a,{columns:2},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:6},s.a.createElement(wr,{challenges:o,changeChallenge:e.changeChallenge,test_id:a,subscribeToNewChallenges:function(){return c({document:Lt,variables:{testId:a},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newChallenge.node;return Object.assign({},e,{challenges:{challenges:Object(pa.a)(e.challenges.challenges).concat([a]),__typename:e.challenges.__typename}})}})}})),s.a.createElement(fn.a.Column,{centered:"true",width:10},s.a.createElement(q.a,{style:{minHeight:500,overflow:"auto"},attached:!0},s.a.createElement(jr,{changeChallenge:e.changeChallenge,initialChallengeId:u,challengeId:n}))))))})))}}]),t}(c.Component),Ir=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.students,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state,t=e.column,n=e.data,a=e.direction;return s.a.createElement(q.a,{style:{minHeight:400,overflow:"auto"},attached:!0},s.a.createElement("h4",null,"Enrolled Students"),s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===t?a:null,onClick:this.handleSort("firstName")},"First Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===t?a:null,onClick:this.handleSort("lastName")},"Last Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"percentCorrect"===t?a:null,onClick:this.handleSort("percentCorrect")},"Percent Correct"))),s.a.createElement(Cn.a.Body,null,yn.a.map(n,function(e){var t=e.id,n=e.firstName,a=e.lastName,r=e.percentCorrect;return s.a.createElement(Cn.a.Row,{key:t},s.a.createElement(Cn.a.Cell,null,n),s.a.createElement(Cn.a.Cell,null,a),s.a.createElement(Cn.a.Cell,null,Math.round(100*r),"%"))}))))}}]),t}(c.Component),Sr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.course_id;return s.a.createElement(y.Query,{query:Pt,variables:{courseId:e},fetchPolicy:"cache-and-network"},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,a);var l=r.course,i=[];return l.students.forEach(function(e){var t={id:e.id,firstName:e.firstName,lastName:e.lastName,percentCorrect:e.answers.filter(function(e){return e.answerCorrect}).length/e.answers.length>0?e.answers.filter(function(e){return e.answerCorrect}).length/e.answers.length:0};i.push(t)}),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(Rn,l),s.a.createElement(Ir,{students:i,courseId:e}),s.a.createElement("div",null)))})}}]),t}(c.Component),_r=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",address1:"",address2:"",city:"",state:"",zip:"",phone:"",email:"",type:"",graphQLError:!1,isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.addInstitution.id,n.props.history.push({pathname:"/institution_dashboard",state:{institutionId:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.type,r=t.address1,l=t.address2,i=t.city,c=t.state,o=t.zip,u=t.phone,d=t.email,m=t.graphQLError,h=t.networkError,p=t.isVisibleNet,E=t.isVisibleGraph;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{style:{marginRight:"250px",marginLeft:"250px"}},s.a.createElement("h2",{style:{padding:"25px"}},"Add Institution"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{required:!0,id:"name",control:$n.a,label:"Institution Name",value:n,onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Institution Name"}),s.a.createElement(kn.a.Field,{id:"address1",control:$n.a,label:"Address 1",value:r,onChange:function(t){return e.setState({address1:t.target.value})},placeholder:"Address 1"}),s.a.createElement(kn.a.Field,{id:"address2",control:$n.a,label:"Address 2",value:l,onChange:function(t){return e.setState({address2:t.target.value})},placeholder:"Address 2"}),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{id:"city",control:$n.a,label:"City",value:i,onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",width:8}),s.a.createElement(kn.a.Field,{id:"state",control:$n.a,label:"State",value:c,onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",width:4}),s.a.createElement(kn.a.Field,{id:"zip",control:$n.a,label:"Zip",value:o,onChange:function(t){return e.setState({zip:t.target.value})},placeholder:"Zip",width:4})),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{id:"phone",control:$n.a,label:"Phone",value:u,onChange:function(t){return e.setState({phone:t.target.value})},placeholder:"Phone",width:6}),s.a.createElement(kn.a.Field,{id:"email",control:$n.a,label:"Email",value:d,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Email",width:10})),s.a.createElement(kn.a.Field,{required:!0,id:"institutionType",control:sa.a,options:[{value:"University",text:"University"},{value:"Community College",text:"Community College"},{value:"High School",text:"High School"},{value:"Junior High School",text:"Junior High School"},{value:"Language School",text:"Language School"},{value:"Vocational School",text:"Vocational School"},{value:"Business",text:"Business"}],onChange:function(t,n){var a=n.value;e.setState({type:a})},label:"Institution Type",fluid:!0,selection:!0,placeholder:"Select Institution Type"})),s.a.createElement(y.Mutation,{mutation:Gt,variables:{name:n,type:a,address1:r,address2:l,city:i,state:c,zip:o,phone:u,email:d},onError:function(t){return e._error(t)},onCompleted:function(t){return e._confirm(t)},refetchQueries:function(){return[{query:Rt}]}},function(e){return s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement(D.a,{color:"blue",onClick:e},"Submit"))}),E&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,m))),p&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,h))))))}}]),t}(c.Component),kr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push("/quandrio_dashboard");case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.institutionId,n=this.state,a=n.graphQLError,r=n.networkError,l=n.isVisibleNet,i=n.isVisibleGraph;return s.a.createElement("div",{className:"main"},s.a.createElement(vn,{institutionId:t}),s.a.createElement(y.Query,{query:Yt,variables:{institutionId:t},fetchPolicy:"cache-and-network"},function(t){var n=t.loading,c=t.error,o=t.data;if(n)return s.a.createElement(A,null);if(c)return s.a.createElement(an,c);var u=o.institution,d=u.id,m=u.address1,h=u.address2,p=u.city,E=u.state,f=u.zip,b=u.phone,v=u.email,g=u.courses,C=u.teachers,j=u.admins,O=g.filter(function(e){return!e.deleted});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{margin:25}},s.a.createElement(fn.a,{stackable:!0,className:"fill-content"},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:5},s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Administrators"))),s.a.createElement(jn,{institutionId:d,admins:j})),s.a.createElement(fn.a.Column,{width:5},s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Teachers"))),s.a.createElement(On,{institutionId:d,teachers:C})),s.a.createElement(fn.a.Column,{width:6},s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Courses"))),s.a.createElement(wn,{institutionId:d,courses:O}))),s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:16},s.a.createElement(q.a,null,s.a.createElement("p",null,s.a.createElement("b",null,"Address:")," ",m," ",h," ",p,", ",E," ",f),s.a.createElement("p",null,s.a.createElement("b",null,"Phone:")," ",b," ",s.a.createElement("b",null,"Email:")," ",s.a.createElement("a",{href:"mailto:"+v},v))))))),s.a.createElement(y.Mutation,{mutation:Jt,variables:{institutionId:d},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)},refetchQueries:function(){return[{query:Rt}]}},function(e){return s.a.createElement("div",null,s.a.createElement(D.a,{color:"red",onClick:e},"Delete Institution"))}),i&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,a))),l&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,r))))}))}}]),t}(c.Component),$r=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",lastName:"",title:"",department:"",address1:"",address2:"",city:"",state:"",zip:"",phone:"",graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.props.location.state.institutionId,n.props.history.push({pathname:"/institution_dashboard",state:{institutionId:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.institutionId,n=this.state,a=n.email,r=n.password,l=n.firstName,i=n.lastName,c=n.title,o=n.department,u=n.address1,d=n.address2,m=n.city,h=n.state,p=n.zip,E=n.phone,f=n.graphQLError,b=n.networkError,v=n.isVisibleNet,g=n.isVisibleGraph;return s.a.createElement("div",{className:"main"},s.a.createElement(vn,{institutionId:t}),s.a.createElement(y.Query,{query:Yt,variables:{institutionId:t},fetchPolicy:"cache-and-network"},function(t){var n=t.loading,C=t.error,j=t.data;if(n)return s.a.createElement(A,null);if(C)return s.a.createElement(an,C);var O=j.institution.id;return s.a.createElement("div",{style:{marginRight:"250px",marginTop:"25px",marginLeft:"250px"}},s.a.createElement("h2",null,"Add Administrator"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{required:!0,control:$n.a,label:"First Name",value:l,onChange:function(t){return e.setState({firstName:t.target.value})},placeholder:"First Name",width:8}),s.a.createElement(kn.a.Field,{required:!0,control:$n.a,label:"Last Name",value:i,onChange:function(t){return e.setState({lastName:t.target.value})},placeholder:"Last Name",width:8})),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{control:$n.a,label:"Title",value:c,onChange:function(t){return e.setState({title:t.target.value})},placeholder:"Title",width:6}),s.a.createElement(kn.a.Field,{control:$n.a,label:"Department",value:o,onChange:function(t){return e.setState({department:t.target.value})},placeholder:"Department",width:6}),s.a.createElement(kn.a.Field,{id:"phone",control:$n.a,label:"Phone",value:E,onChange:function(t){return e.setState({phone:t.target.value})},placeholder:"Phone",width:4})),s.a.createElement(kn.a.Field,{id:"address1",control:$n.a,label:"Address 1",value:u,onChange:function(t){return e.setState({address1:t.target.value})},placeholder:"Address 1"}),s.a.createElement(kn.a.Field,{id:"address2",control:$n.a,label:"Address 2",value:d,onChange:function(t){return e.setState({address2:t.target.value})},placeholder:"Address 2"}),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{id:"city",control:$n.a,label:"City",value:m,onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",width:8}),s.a.createElement(kn.a.Field,{id:"state",control:$n.a,label:"State",value:h,onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",width:4}),s.a.createElement(kn.a.Field,{id:"zip",control:$n.a,label:"Zip",value:p,onChange:function(t){return e.setState({zip:t.target.value})},placeholder:"Zip",width:4})),s.a.createElement(y.Mutation,{mutation:Zt,variables:{email:a,password:r,firstName:l,lastName:i,title:c,department:o,address1:u,address2:d,city:m,state:h,zip:p,phone:E,role:"ADMIN",institutionId:O},onCompleted:function(t){return e._confirm(t)}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")})),g&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,f))),v&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,b))))}))}}]),t}(c.Component),Dr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",lastName:"",title:"",department:"",address1:"",address2:"",city:"",state:"",zip:"",phone:"",graphQLError:"",isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.props.location.state.institutionId,n.props.history.push({pathname:"/institution_dashboard",state:{institutionId:a}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.institutionId,n=this.state,a=n.email,r=n.password,l=n.firstName,i=n.lastName,c=n.title,o=n.department,u=n.address1,d=n.address2,m=n.city,h=n.state,p=n.zip,E=n.phone,f=n.graphQLError,b=n.networkError,v=n.isVisibleNet,g=n.isVisibleGraph;return s.a.createElement("div",{className:"main"},s.a.createElement(vn,{institutionId:t}),s.a.createElement(y.Query,{query:Yt,variables:{institutionId:t},fetchPolicy:"cache-and-network"},function(t){var n=t.loading,C=t.error,j=t.data;if(n)return s.a.createElement(A,null);if(C)return s.a.createElement(an,C);var O=j.institution.id;return s.a.createElement("div",{style:{marginRight:"250px",marginTop:"25px",marginLeft:"250px"}},s.a.createElement("h2",null,"Add Teacher"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{required:!0,control:$n.a,label:"First Name",value:l,onChange:function(t){return e.setState({firstName:t.target.value})},placeholder:"First Name",width:8}),s.a.createElement(kn.a.Field,{required:!0,control:$n.a,label:"Last Name",value:i,onChange:function(t){return e.setState({lastName:t.target.value})},placeholder:"Last Name",width:8})),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{control:$n.a,label:"Title",value:c,onChange:function(t){return e.setState({title:t.target.value})},placeholder:"Title",width:6}),s.a.createElement(kn.a.Field,{control:$n.a,label:"Department",value:o,onChange:function(t){return e.setState({department:t.target.value})},placeholder:"Department",width:6}),s.a.createElement(kn.a.Field,{id:"phone",control:$n.a,label:"Phone",value:E,onChange:function(t){return e.setState({phone:t.target.value})},placeholder:"Phone",width:4})),s.a.createElement(kn.a.Field,{id:"address1",control:$n.a,label:"Address 1",value:u,onChange:function(t){return e.setState({address1:t.target.value})},placeholder:"Address 1"}),s.a.createElement(kn.a.Field,{id:"address2",control:$n.a,label:"Address 2",value:d,onChange:function(t){return e.setState({address2:t.target.value})},placeholder:"Address 2"}),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{id:"city",control:$n.a,label:"City",value:m,onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",width:8}),s.a.createElement(kn.a.Field,{id:"state",control:$n.a,label:"State",value:h,onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",width:4}),s.a.createElement(kn.a.Field,{id:"zip",control:$n.a,label:"Zip",value:p,onChange:function(t){return e.setState({zip:t.target.value})},placeholder:"Zip",width:4})),s.a.createElement(y.Mutation,{mutation:Xt,variables:{email:a,password:r,firstName:l,lastName:i,title:c,department:o,address1:u,address2:d,city:m,state:h,zip:p,phone:E,role:"TEACHER",institutionId:O},onCompleted:function(t){return e._confirm(t)}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")})),g&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,f))),v&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,b))))}))}}]),t}(c.Component),Tr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={name:n.props.name,address1:n.props.address1,address2:n.props.address2,city:n.props.city,state:n.props.state,zip:n.props.zip,phone:n.props.phone,email:n.props.email,type:n.props.type,graphQLError:!1,isVisibleGraph:!1,networkError:!1,isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/institution_dashboard",state:{institutionId:n.props.id}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.type,r=t.address1,l=t.address2,i=t.city,c=t.state,o=t.zip,u=t.phone,d=t.email,m=t.graphQLError,h=t.networkError,p=t.isVisibleNet,E=t.isVisibleGraph;return s.a.createElement("div",{style:{marginRight:"250px",marginLeft:"250px"}},s.a.createElement("h2",{style:{padding:"25px"}},"Edit Institution"),s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Field,{required:!0,id:"name",control:$n.a,label:"Institution Name",value:n,onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Institution Name"}),s.a.createElement(kn.a.Field,{id:"address1",control:$n.a,label:"Address 1",value:r,onChange:function(t){return e.setState({address1:t.target.value})},placeholder:"Address 1"}),s.a.createElement(kn.a.Field,{id:"address2",control:$n.a,label:"Address 2",value:l,onChange:function(t){return e.setState({address2:t.target.value})},placeholder:"Address 2"}),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{id:"city",control:$n.a,label:"City",value:i,onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",width:8}),s.a.createElement(kn.a.Field,{id:"state",control:$n.a,label:"State",value:c,onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",width:4}),s.a.createElement(kn.a.Field,{id:"zip",control:$n.a,label:"Zip",value:o,onChange:function(t){return e.setState({zip:t.target.value})},placeholder:"Zip",width:4})),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{id:"phone",control:$n.a,label:"Phone",value:u,onChange:function(t){return e.setState({phone:t.target.value})},placeholder:"Phone",width:6}),s.a.createElement(kn.a.Field,{id:"email",control:$n.a,label:"Email",value:d,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Email",width:10})),s.a.createElement(kn.a.Field,{required:!0,id:"institutionType",control:sa.a,options:[{value:"University",text:"University"},{value:"Community College",text:"Community College"},{value:"High School",text:"High School"},{value:"Junior High School",text:"Junior High School"},{value:"Language School",text:"Language School"},{value:"Vocational School",text:"Vocational School"},{value:"Business",text:"Business"}],value:a,onChange:function(t,n){var a=n.value;e.setState({type:a})},label:"Institution Type",fluid:!0,selection:!0,placeholder:"Select Institution Type"})),s.a.createElement(y.Mutation,{mutation:Ut,variables:{id:this.props.id,name:n,type:a,address1:r,address2:l,city:i,state:c,zip:o,phone:u,email:d},onError:function(t){return e._error(t)},onCompleted:function(t){return e._confirm(t)},refetchQueries:function(){return[{query:Yt}]}},function(e){return s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement(D.a,{color:"blue",onClick:e},"Submit"))}),E&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,m))),p&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,h))))}}]),t}(c.Component),qr=Object(ln.a)(Tr),Mr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.institutionId;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(vn,{institutionId:e}),s.a.createElement(y.Query,{query:Yt,variables:{institutionId:e},fetchPolicy:"cache-and-network"},function(e){var t=e.loading,n=e.error,a=e.data;return t?s.a.createElement(A,null):n?s.a.createElement(an,n):s.a.createElement(s.a.Fragment,null,s.a.createElement(qr,a.institution))})))}}]),t}(c.Component),xr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={email:n.props.email,firstName:n.props.firstName,lastName:n.props.lastName,title:n.props.title,department:n.props.department,address1:n.props.address1,address2:n.props.address2,city:n.props.city,state:n.props.state,zip:n.props.zip,phone:n.props.phone,role:n.props.role,graphQLError:"",isVisibleGraph:!1,networkError:"",isVisibleNet:!1},n._error=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.graphQLErrors.map(function(e,t){return e.message}),n.setState({isVisibleGraph:!0,graphQLError:a}),t.networkError&&n.setState({isVisibleNet:!0,networkError:t.networkError.message});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._confirm=function(){var e=Object(i.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.props.id,n.props.history.push({pathname:"/personnel_dashboard",state:{userId:a,institutionId:n.props.institutionId}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.firstName,r=t.lastName,l=t.title,i=t.department,c=t.address1,o=t.address2,u=t.city,d=t.state,m=t.zip,h=t.phone,p=t.role,E=t.graphQLError,f=t.networkError,b=t.isVisibleNet,v=t.isVisibleGraph;return s.a.createElement(s.a.Fragment,null,s.a.createElement(kn.a,{size:"big"},s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{required:!0,control:$n.a,label:"First Name",value:a,onChange:function(t){return e.setState({firstName:t.target.value})},placeholder:"First Name",width:8}),s.a.createElement(kn.a.Field,{required:!0,control:$n.a,label:"Last Name",value:r,onChange:function(t){return e.setState({lastName:t.target.value})},placeholder:"Last Name",width:8})),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{control:$n.a,label:"Title",value:l,onChange:function(t){return e.setState({title:t.target.value})},placeholder:"Title",width:4}),s.a.createElement(kn.a.Field,{control:$n.a,label:"Department",value:i,onChange:function(t){return e.setState({department:t.target.value})},placeholder:"Department",width:4}),s.a.createElement(kn.a.Field,{id:"phone",control:$n.a,label:"Phone",value:h,onChange:function(t){return e.setState({phone:t.target.value})},placeholder:"Phone",width:4}),s.a.createElement(kn.a.Field,{required:!0,id:"roleType",control:sa.a,options:[{value:"ADMIN",text:"Administrator"},{value:"TEACHER",text:"Teacher"}],value:p,onChange:function(t,n){var a=n.value;e.setState({role:a})},label:"Role",fluid:!0,selection:!0,placeholder:"Role",width:4})),s.a.createElement(kn.a.Field,{id:"address1",control:$n.a,label:"Address 1",value:c,onChange:function(t){return e.setState({address1:t.target.value})},placeholder:"Address 1"}),s.a.createElement(kn.a.Field,{id:"address2",control:$n.a,label:"Address 2",value:o,onChange:function(t){return e.setState({address2:t.target.value})},placeholder:"Address 2"}),s.a.createElement(kn.a.Group,null,s.a.createElement(kn.a.Field,{id:"city",control:$n.a,label:"City",value:u,onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",width:8}),s.a.createElement(kn.a.Field,{id:"state",control:$n.a,label:"State",value:d,onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",width:4}),s.a.createElement(kn.a.Field,{id:"zip",control:$n.a,label:"Zip",value:m,onChange:function(t){return e.setState({zip:t.target.value})},placeholder:"Zip",width:4})),s.a.createElement(y.Mutation,{mutation:en,variables:{userId:this.props.id,email:n,firstName:a,lastName:r,title:l,department:i,address1:c,address2:o,city:u,state:d,zip:m,phone:h},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)}},function(e){return s.a.createElement(D.a,{color:"blue",onClick:e},"Submit")})),v&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,E))),b&&s.a.createElement(tn.a,{negative:!0},s.a.createElement("p",null,s.a.createElement("b",null,f))))}}]),t}(c.Component),Qr=Object(ln.a)(xr),Ar=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state,t=e.institutionId,n=e.userId,a=e.personnelType;return s.a.createElement("div",{className:"main"},s.a.createElement(vn,{institutionId:t}),s.a.createElement(y.Query,{query:Kt,variables:{userId:n},fetchPolicy:"cache-and-network"},function(e){var n=e.loading,r=e.error,l=e.data;return n?s.a.createElement(A,null):r?s.a.createElement(an,r):s.a.createElement("div",{style:{marginRight:"250px",marginTop:"25px",marginLeft:"250px"}},s.a.createElement("h2",null,"Edit ",a),s.a.createElement(Qr,Object.assign({institutionId:t},l.user)))}))}}]),t}(c.Component),Lr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.courses,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.column,a=t.data,r=t.direction;return s.a.createElement(q.a,{style:{height:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("name")},"Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"students"===n?r:null,onClick:this.handleSort("students")},"Institution"),s.a.createElement(Cn.a.HeaderCell,{sorted:"students"===n?r:null,onClick:this.handleSort("students")},"Students"))),s.a.createElement(Cn.a.Body,null,yn.a.map(a,function(t){var n=t.id,a=t.name,r=t.institution,l=t.students;return s.a.createElement(Cn.a.Row,{key:n},s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/institution_course",state:{institutionId:e.props.institutionId,courseId:n}}},a)),s.a.createElement(Cn.a.Cell,null,r.name),s.a.createElement(Cn.a.Cell,null,l.length))}))))}}]),t}(c.Component),Pr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).activeCouresSwitch=function(e,t){return e.length>0?e:t},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state,n=t.institutionId,a=t.userId;return s.a.createElement("div",{className:"main"},s.a.createElement(vn,{institutionId:n}),s.a.createElement(y.Query,{query:Kt,variables:{userId:a},fetchPolicy:"cache-and-network"},function(t){var r=t.loading,l=t.error,i=t.data;if(r)return s.a.createElement(A,null);if(l)return s.a.createElement(an,l);var c=i.user,o=c.firstName,u=c.role,d=c.lastName,m=c.title,h=c.department,p=c.address1,E=c.address2,f=c.city,b=c.state,v=c.zip,g=c.phone,y=c.email,C=c.teacherCourses,j=c.studentCourses,O=C.filter(function(e){return!e.deleted}),w=j.filter(function(e){return!e.deleted}),N=e.activeCouresSwitch(O,w);return s.a.createElement("div",{style:{marginRight:"150px",marginTop:"25px",marginLeft:"150px"}},s.a.createElement(fn.a,{columns:2},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:6},s.a.createElement(Gn.a,null,s.a.createElement(Gn.a.Content,null,"TEACHER"===u&&s.a.createElement("h4",null,"Teacher"),"ADMIN"===u&&s.a.createElement("h4",null,"Administrator"),"STUDENT"===u&&s.a.createElement("h4",null,"Student"),s.a.createElement("hr",null),s.a.createElement("h3",null,o," ",d),s.a.createElement(Gn.a.Meta,null,m," ",h),s.a.createElement("hr",null),s.a.createElement(Gn.a.Description,null,!!p&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,s.a.createElement("b",null,"Institution Address:")),s.a.createElement("p",null,p),s.a.createElement("p",null,E),s.a.createElement("p",null,f,", ",b,"  ",v),s.a.createElement("hr",null)),s.a.createElement("p",null,s.a.createElement("b",null,"Email:")," ",s.a.createElement("a",{href:"mailto:"+y},y)),!!g&&s.a.createElement("p",null,s.a.createElement("b",null,"Phone:")," ",g)),s.a.createElement("hr",null),s.a.createElement(D.a,{color:"blue",onClick:function(){return e.props.history.push({pathname:"/edit_admin",state:{institutionId:n,userId:a}})}},"Edit")))),s.a.createElement(fn.a.Column,{width:10},s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},N.length," Courses"),s.a.createElement(Lr,{institutionId:n,courses:N})))))}))}}]),t}(c.Component),Fr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.people,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.column,a=t.data,r=t.direction;return s.a.createElement(q.a,{style:{minHeight:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("firstName")},"First Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("lastName")},"Last Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"email"===n?r:null,onClick:this.handleSort("email")},"Email"))),s.a.createElement(Cn.a.Body,null,yn.a.map(a,function(t){var n=t.id,a=t.firstName,r=t.lastName,l=t.email;return s.a.createElement(Cn.a.Row,{key:n},s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},a)),s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},r)),s.a.createElement(Cn.a.Cell,null,s.a.createElement("a",{href:"mailto:"+l},l)))}))))}}]),t}(c.Component),Vr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state,t=e.column,n=e.data,a=e.direction;return s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===t?a:null,onClick:this.handleSort("name")},"Subject"),s.a.createElement(Cn.a.HeaderCell,{sorted:"students"===t?a:null,onClick:this.handleSort("questions")},"Questions"))),s.a.createElement(Cn.a.Body,null,yn.a.map(n,function(e){var t=e.id,n=e.subject,a=e.questions;return s.a.createElement(Cn.a.Row,{key:t},s.a.createElement(Cn.a.Cell,null,n),s.a.createElement(Cn.a.Cell,null,a.length))})))}}]),t}(c.Component),Br=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state,t=e.institutionId,n=e.courseId;return s.a.createElement("div",{className:"main"},s.a.createElement(vn,{institutionId:t}),s.a.createElement(y.Query,{query:dt,variables:{courseid:n},fetchPolicy:"cache-and-network"},function(e){var n=e.loading,a=e.error,r=e.data;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,a);var l=r.course,i=l.name,c=l.teachers,o=l.students,u=l.courseNumber,d=l.time,m=l.tests,h=m.filter(function(e){return!e.deleted}),p=m.map(function(e){return e.questions.length}).reduce(function(e,t){return e+t},0),E=m.map(function(e){return e.questions}).flat().map(function(e){return e.questionAnswers}).flat(),f=E.length,b=E.filter(function(e){return e.answerCorrect}).length,v=Math.round(b/f*100);return s.a.createElement("div",{style:{margin:25}},s.a.createElement("h3",null,i," - ",u),s.a.createElement("h5",null,d," "),s.a.createElement(fn.a,{columns:3,stackable:!0,className:"fill-content"},s.a.createElement(fn.a.Row,{stretched:!0},s.a.createElement(fn.a.Column,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Teachers"))),s.a.createElement(Fr,{institutionId:t,people:c})),s.a.createElement(fn.a.Column,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,"Students"))),s.a.createElement(Fr,{institutionId:t,people:o})),s.a.createElement(fn.a.Column,null,s.a.createElement(q.a,{fluid:"true",secondary:!0,attached:"top"},s.a.createElement("div",null,s.a.createElement("b",null,h.length," Tests "))),s.a.createElement(q.a,{style:{height:400,overflow:"auto"},attached:!0},s.a.createElement(fn.a,{celled:!0,columns:2},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,null,s.a.createElement("h6",null,"Questions: ",p)),s.a.createElement(fn.a.Column,null,s.a.createElement("h6",null,"Answers: ",f))),s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,null,s.a.createElement("h6",null,"Correct: ",b)),s.a.createElement(fn.a.Column,null,s.a.createElement("h6",null,"Percent: ",v>0?v:0,"%")))),s.a.createElement(Vr,h))))))}))}}]),t}(c.Component),zr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={column:null,data:n.props.people,direction:null},n.handleSort=function(e){return function(){var t=n.state,a=t.column,r=t.data,l=t.direction;a===e?n.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):n.setState({column:e,data:yn.a.sortBy(r,[e]),direction:"ascending"})}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.column,a=t.data,r=t.direction;return s.a.createElement(q.a,{style:{minHeight:400,overflow:"auto"},attached:!0},s.a.createElement(Cn.a,{sortable:!0,celled:!0,fixed:!0},s.a.createElement(Cn.a.Header,null,s.a.createElement(Cn.a.Row,null,s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("firstName")},"First Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"name"===n?r:null,onClick:this.handleSort("lastName")},"Last Name"),s.a.createElement(Cn.a.HeaderCell,{sorted:"email"===n?r:null,onClick:this.handleSort("email")},"Email"),s.a.createElement(Cn.a.HeaderCell,{sorted:"email"===n?r:null,onClick:this.handleSort("email")},"Courses"))),s.a.createElement(Cn.a.Body,null,yn.a.map(a,function(t){var n=t.id,a=t.firstName,r=t.lastName,l=t.email,i=t.studentCourses;return s.a.createElement(Cn.a.Row,{key:n},s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},a)),s.a.createElement(Cn.a.Cell,null,s.a.createElement($.a,{to:{pathname:"/personnel_dashboard",state:{userId:n,institutionId:e.props.institutionId}}},r)),s.a.createElement(Cn.a.Cell,null,s.a.createElement("a",{href:"mailto:"+l},l)),s.a.createElement(Cn.a.Cell,null,i.length))}))))}}]),t}(c.Component),Hr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state.institutionId;return s.a.createElement("div",{className:"main"},s.a.createElement(vn,{institutionId:e}),s.a.createElement("div",{style:{margin:25}},s.a.createElement(y.Query,{query:Yt,variables:{institutionId:e},fetchPolicy:"cache-and-network"},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return s.a.createElement(A,null);if(a)return s.a.createElement(an,a);var l=r.institution.students;return s.a.createElement(zr,{institutionId:e,people:l})})))}}]),t}(c.Component),Rr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={challengeId:"",test_id:n.props.location.state.test_id},n.changeChallenge=function(e){return n.setState({challengeId:e})},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.challengeId,a=t.test_id,r=o.get("userid");return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"container"},s.a.createElement(y.Query,{query:at,variables:{testId:a}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return s.a.createElement(A,null);if(n)return s.a.createElement(an,n);var r=a.test;return s.a.createElement($a,r)}),s.a.createElement(y.Query,{query:lt,variables:{testId:a,userId:r}},function(t){var r=t.loading,l=t.error,i=t.data,c=t.subscribeToMore;if(r)return s.a.createElement(Q.a,null);if(l)return s.a.createElement(an,l);var o=i.challenges.challenges,u=o[0].id;return s.a.createElement("div",{className:"coursecontainer"},s.a.createElement(fn.a,{columns:2},s.a.createElement(fn.a.Row,null,s.a.createElement(fn.a.Column,{width:6},s.a.createElement(wr,{challenges:o,changeChallenge:e.changeChallenge,test_id:a,subscribeToNewChallenges:function(){return c({document:Lt,variables:{testId:a},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newChallenge.node;return Object.assign({},e,{challenges:{challenges:Object(pa.a)(e.challenges.challenges).concat([a]),__typename:e.challenges.__typename}})}})}})),s.a.createElement(fn.a.Column,{centered:"true",width:10},s.a.createElement(q.a,{style:{minHeight:500,overflow:"auto"},attached:!0},s.a.createElement(jr,{changeChallenge:e.changeChallenge,initialChallengeId:u,challengeId:n}))))))})))}}]),t}(c.Component),Gr=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r))))._confirm=function(e){var t=e.logout.authMsg;sessionStorage.removeItem("userid"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user"),sessionStorage.setItem("online",!1),o.remove("userid"),o.remove("auth_token"),o.remove("user"),n.props.history.push({pathname:"/sign_out",state:{authMsg:t}})},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=o.get("userid");return o.get("auth_token")?s.a.createElement(y.Mutation,{mutation:It,variables:{userId:t},onCompleted:function(t){return e._confirm(t)}},function(e){return s.a.createElement(D.a,{basic:!0,color:"blue",size:"large",onClick:e},"Sign Out")}):s.a.createElement($.a,{to:"/sign_in"},s.a.createElement(D.a,{size:"large",basic:!0,color:"blue"},"Sign In"))}}]),t}(c.Component),Yr=Object(ln.a)(Gr),Ur=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(I.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).navSwitch=function(e){if(!e)return s.a.createElement($.a,{to:"/sign_up"},s.a.createElement(D.a,{basic:!0,size:"large",color:"blue"},"Sign Up"));switch(e.role){case"TEACHER":return s.a.createElement($.a,{to:"/teacher_dashboard"}," ",s.a.createElement(D.a,{size:"large",basic:!0,color:"blue"},"Dashboard"));case"STUDENT":return s.a.createElement($.a,{to:"/student_dashboard"}," ",s.a.createElement(D.a,{size:"large",basic:!0,color:"blue"},"Dashboard"));case"ADMIN":return s.a.createElement($.a,{to:"/admin_dashboard"}," ",s.a.createElement(D.a,{size:"large",basic:!0,color:"blue"},"Dashboard"));case"QUANDRIA":return s.a.createElement($.a,{to:"/quandria_dashboard"}," ",s.a.createElement(D.a,{size:"large",basic:!0,color:"blue"},"Dashboard"));default:return s.a.createElement($.a,{to:"/sign_up"},s.a.createElement(D.a,{basic:!0,size:"large",color:"blue"},"Sign Up"))}},n}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.navSwitch(JSON.parse(sessionStorage.getItem("user"))))}}]),t}(c.Component),Jr=function(e){return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"sign-button"},s.a.createElement(Ur,null)),s.a.createElement("div",null,s.a.createElement($.a,{to:"/"},s.a.createElement("div",null,s.a.createElement(D.a,{size:"large",basic:!0,color:"blue"},"Quandrio")))),s.a.createElement("div",{className:"sign-button"},s.a.createElement(Yr,null)))},Wr=function(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("div",{style:{padding:"20px"}},"\xa9 Quandrio 2018-2019"))},Zr=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(Jr,null),s.a.createElement(k.a,null,s.a.createElement(O.a,{exact:!0,path:"/",component:dr}),s.a.createElement(O.a,{path:"/sign_in",component:Dn}),s.a.createElement(O.a,{path:"/sign_out",component:Mn}),s.a.createElement(O.a,{path:"/sign_up",component:xn}),s.a.createElement(O.a,{path:"/signed_up",component:Ln}),s.a.createElement(O.a,{path:"/confirm/:token/:email",component:Hn}),s.a.createElement(O.a,{path:"/teacher_dashboard",component:rn}),s.a.createElement(O.a,{path:"/student_dashboard",component:En}),s.a.createElement(O.a,{path:"/admin_dashboard",component:Nn}),s.a.createElement(O.a,{path:"/quandria_dashboard",component:_n}),s.a.createElement(O.a,{path:"/course_dashboard",component:ea}),s.a.createElement(O.a,{path:"/student_course_dashboard",component:la}),s.a.createElement(O.a,{path:"/add_course",component:oa}),s.a.createElement(O.a,{path:"/edit_course/",component:ha}),s.a.createElement(O.a,{path:"/course_invitation/",component:ca}),s.a.createElement(O.a,{path:"/test_dashboard/",component:_a}),s.a.createElement(O.a,{path:"/student_test_dashboard/",component:xa}),s.a.createElement(O.a,{path:"/add_test/",component:Ha}),s.a.createElement(O.a,{path:"/edit_test/",component:Ya}),s.a.createElement(O.a,{path:"/add_panels",component:or}),s.a.createElement(O.a,{path:"/test_panels",component:Fa}),s.a.createElement(O.a,{path:"/student_test_panels",component:Va}),s.a.createElement(O.a,{path:"/student_performance/",component:Er}),s.a.createElement(O.a,{path:"/student_test_performance/",component:fr}),s.a.createElement(O.a,{path:"/challenge_dashboard",component:Nr}),s.a.createElement(O.a,{path:"/publish_test",component:Ja}),s.a.createElement(O.a,{path:"/edit_publish_test",component:Xa}),s.a.createElement(O.a,{path:"/course_students",component:Sr}),s.a.createElement(O.a,{path:"/add_institution",component:_r}),s.a.createElement(O.a,{path:"/institution_dashboard",component:kr}),s.a.createElement(O.a,{path:"/add_admin",component:$r}),s.a.createElement(O.a,{path:"/add_teacher",component:Dr}),s.a.createElement(O.a,{path:"/edit_admin",component:Ar}),s.a.createElement(O.a,{path:"/edit_institution",component:Mr}),s.a.createElement(O.a,{path:"/personnel_dashboard",component:Pr}),s.a.createElement(O.a,{path:"/institution_course",component:Br}),s.a.createElement(O.a,{path:"/institution_students",component:Hr}),s.a.createElement(O.a,{path:"/challenge_student_dashboard",component:Rr})),s.a.createElement(Wr,null))}}]),t}(c.Component),Xr=o.get("auth_token"),Kr=Object(E.a)({uri:"https://qbe1.herokuapp.com/",onError:function(e){var t=e.networkError,n=e.graphQLErrors;console.log("graphQLErrors",n),console.log("networkError",t)}}),el=new C.a({uri:"wss://qbe1.herokuapp.com",options:{reconnect:!0,connectionParams:{authorization:Xr?"Bearer ".concat(Xr):""}}}),tl=Object(f.a)(function(){var e=Object(i.a)(r.a.mark(function e(t,n){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.headers,i=o.get("auth_token"),e.abrupt("return",{headers:Object(l.a)({},a,{authorization:i?"Bearer ".concat(i):""})});case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()).concat(Kr),nl=Object(v.d)(function(e){var t=e.query,n=Object(b.a)(t),a=n.kind,r=n.operation;return"OperationDefinition"===a&&"subscription"===r},el,tl),al=new p.a({link:nl,cache:new g.a});d.a.render(s.a.createElement(j.a,null,s.a.createElement(y.ApolloProvider,{client:al},s.a.createElement(O.a,{path:"/",component:Zr}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");m?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):h(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):h(e)})}}()}},[[408,2,1]]]);
//# sourceMappingURL=main.6b9584e0.chunk.js.map